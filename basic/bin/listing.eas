0000 :                               ramstart=$4000
0000 :                               kernelend=$1000
0000 :                               pixelwidth=$0140
0000 :                               pixelheight=$00f0
0000 :                               charwidth=$0035
0000 :                               charheight=$001e
0000 :                               pixelcharwidth=$0006
0000 :                               pixelcharheight=$0008
0000 :                               blitterbase=$ff20
0000 :                               blitterstatus=$ff20
0000 :                               blitterx=$ff20
0000 :                               blittery=$ff21
0000 :                               blitterdata=$ff22
0000 :                               blittercmask=$ff23
0000 :                               blittercmd=$ff24
0000 :                               paletteregister=$ff10
0000 :                               keyboardport=$ff00
0000 :                               hwtimer=$ff30
0000 :                               audioclock=$4b40
0000 :                               sndnoise=$ff40
0000 :                               sndtone1=$ff41
0000 :                               sndtone2=$ff42
0000 :                               repeatdelay=$0050
0000 :                               repeatspeed=$000a
0000 :                               tabstop=$0004
0000 :                               maxistrsize=$000a
0000 :                               functionkeysize=$000c
0000 :                               spritedefaultimagecount=$0010
0000 :                               timerrate=$0005
0000 :                               oswaitblitter=$0002
0000 :                               osprintcharacter=$0004
0000 :                               osprintinline=$0006
0000 :                               osprintstring=$0008
0000 :                               osgetkeyboard=$000a
0000 :                               oscursorget=$000c
0000 :                               oslineinput=$000e
0000 :                               osinputlimit=$0010
0000 :                               osreadjoystick=$0012
0000 :                               osgettextpos=$0014
0000 :                               ossetplanes=$0016
0000 :                               ossetbackplanepalette=$0018
0000 :                               ossetfrontplanepalette=$001a
0000 :                               osdrawcharacter=$001c
0000 :                               osdrawsolidcharacter=$001e
0000 :                               osbeep=$0020
0000 :                               osreadsystemvariable=$0022
0000 :                               osfileoperation=$0024
0000 :                               osudivide16=$0026
0000 :                               ossdivide16=$0028
0000 :                               osrandom16=$002a
0000 :                               osstrtoint=$002c
0000 :                               osinttostr=$002e
0000 :                               osuppercase=$0030
0000 :                               oslowercase=$0032
0000 :                               oswordlength=$0034
0000 :                               ossystemmanager=$0036
0000 :                               osxfileoperation=$0038
0000 :                               bootprompt=$003b
0000 :                               kernelprompt=$005b
0000 :                               bootcode=$0062
0000 :                               osxsystemmanager=$00d2
0000 :                               osicheckbreak=$00e9
0000 :                               osxcursorget=$00fa
0000 :                               osxgetkeyboard=$0160
0000 :                               osxinputlimit=$0201
0000 :                               osxlineinput=$0255
0000 :                               osxreadjoystick=$0272
0000 :                               osxwaitblitter=$027f
0000 :                               osiclearscreen=$0289
0000 :                               osifillscreen=$029a
0000 :                               osxdrawsolidcharacter=$02bb
0000 :                               osxdrawcharacter=$02cf
0000 :                               osxsetplanes=$0306
0000 :                               osxsetbackplanepalette=$034f
0000 :                               osxsetfrontplanepalette=$0364
0000 :                               osxprintcharacter=$0388
0000 :                               osxgettextpos=$04a9
0000 :                               osxprintstring=$04ae
0000 :                               osxprintinline=$04b7
0000 :                               osxbeep=$04d9
0000 :                               osxudivide16=$04ed
0000 :                               osxsdivide16=$0507
0000 :                               osxrandom16=$0520
0000 :                               osxstrtoint=$0530
0000 :                               osxinttostr=$0570
0000 :                               osxuppercase=$05b7
0000 :                               osxlowercase=$05c9
0000 :                               osxwordlength=$05db
0000 :                               osxreadsystemvariable=$05e1
0000 :                               keyboardmapping=$05e5
0000 :                               shifttable=$0615
0000 :                               fontdatadefault=$0629
0000 :                               initialisedstart=$4000
0000 :                               systemvariables=$4000
0000 :                               lowmemory=$4000
0000 :                               highmemory=$4001
0000 :                               textmemory=$4002
0000 :                               spriteimagememory=$4003
0000 :                               spriteimagecount=$4004
0000 :                               xtextextent=$4005
0000 :                               ytextextent=$4006
0000 :                               defaultfont=$4007
0000 :                               xgraphic=$4008
0000 :                               ygraphic=$4009
0000 :                               colourmask=$400a
0000 :                               spritemask=$400b
0000 :                               spriterotate=$400c
0000 :                               fgrcolour=$400d
0000 :                               bgrcolour=$400e
0000 :                               xtextpos=$400f
0000 :                               ytextpos=$4010
0000 :                               currentkey=$4011
0000 :                               currentrowstatus=$4012
0000 :                               keyrepeattime=$4018
0000 :                               functionkeyqueue=$4019
0000 :                               functionkeybyte=$401a
0000 :                               functionkeydefinitions=$401b
0000 :                               nextmanagerevent=$4063
0000 :                               initialisedend=$4064
0000 :                               randomseed=$4064
0000 :                               convbuffer=$4065
0000 :                               freememory=$406f
0000 :                               tok_mov = $3200
0000 :                               tok_ldm = $3201
0000 :                               tok_stm = $3202
0000 :                               tok_add = $3203
0000 :                               tok_adc = $3204
0000 :                               tok_sub = $3205
0000 :                               tok_and = $2206
0000 :                               tok_xor = $2207
0000 :                               tok_mult = $3208
0000 :                               tok_ror = $3209
0000 :                               tok_brl = $320a
0000 :                               tok_skeq = $320b
0000 :                               tok_skne = $320c
0000 :                               tok_skse = $320d
0000 :                               tok_sksn = $320e
0000 :                               tok_skcm = $320f
0000 :                               tok_jmp = $3c10
0000 :                               tok_jsr = $3c11
0000 :                               tok_ret = $3c12
0000 :                               tok_skz = $3c13
0000 :                               tok_sknz = $3c14
0000 :                               tok_skp = $3c15
0000 :                               tok_skm = $3c16
0000 :                               tok_skc = $3c17
0000 :                               tok_sknc = $3c18
0000 :                               tok_code = $3c19
0000 :                               tok_word = $3c1a
0000 :                               tok_dot = $3c1b
0000 :                               tok_or = $221c
0000 :                               tok_greater = $241d
0000 :                               tok_greaterequal = $241e
0000 :                               tok_less = $241f
0000 :                               tok_lessequal = $2420
0000 :                               tok_equal = $2421
0000 :                               tok_lessgreater = $2422
0000 :                               tok_plus = $2623
0000 :                               tok_minus = $2624
0000 :                               tok_star = $2825
0000 :                               tok_slash = $2826
0000 :                               tok_mod = $2827
0000 :                               tok_pling = $2a28
0000 :                               tok_lparen = $3029
0000 :                               tok_ampersand = $302a
0000 :                               tok_percent = $302b
0000 :                               tok_vbarconstshift = $302c
0000 :                               tok_abslparen = $302d
0000 :                               tok_alloclparen = $302e
0000 :                               tok_asclparen = $302f
0000 :                               tok_chrdollarlparen = $3030
0000 :                               tok_existslparen = $3031
0000 :                               tok_false = $3032
0000 :                               tok_getlparen = $3033
0000 :                               tok_getdollarlparen = $3034
0000 :                               tok_inkeylparen = $3035
0000 :                               tok_inkeydollarlparen = $3036
0000 :                               tok_joyxlparen = $3037
0000 :                               tok_joyylparen = $3038
0000 :                               tok_joyblparen = $3039
0000 :                               tok_leftdollarlparen = $303a
0000 :                               tok_lenlparen = $303b
0000 :                               tok_middollarlparen = $303c
0000 :                               tok_page = $303d
0000 :                               tok_peeklparen = $303e
0000 :                               tok_rightdollarlparen = $303f
0000 :                               tok_rndlparen = $3040
0000 :                               tok_sgnlparen = $3041
0000 :                               tok_strdollarlparen = $3042
0000 :                               tok_sysvarlparen = $3043
0000 :                               tok_true = $3044
0000 :                               tok_vallparen = $3045
0000 :                               tok_lengthlparen = $3046
0000 :                               tok_randomlparen = $3047
0000 :                               tok_todotstringdollarlparen = $3048
0000 :                               tok_todotnumberlparen = $3049
0000 :                               tok_signlparen = $304a
0000 :                               tok_hash = $324b
0000 :                               tok_rparen = $324c
0000 :                               tok_comma = $324d
0000 :                               tok_semicolon = $324e
0000 :                               tok_to = $324f
0000 :                               tok_step = $3250
0000 :                               tok_for = $3e51
0000 :                               tok_if = $3e52
0000 :                               tok_repeat = $3e53
0000 :                               tok_while = $3e54
0000 :                               tok_proc = $3e55
0000 :                               tok_endif = $3a56
0000 :                               tok_next = $3a57
0000 :                               tok_then = $3a58
0000 :                               tok_until = $3a59
0000 :                               tok_wend = $3a5a
0000 :                               tok_endproc = $3a5b
0000 :                               tok_quote = $3c5c
0000 :                               tok_colon = $3c5d
0000 :                               tok_qmark = $3c5e
0000 :                               tok_assert = $3c5f
0000 :                               tok_blit = $3c60
0000 :                               tok_call = $3c61
0000 :                               tok_clear = $3c62
0000 :                               tok_cls = $3c63
0000 :                               tok_crunch = $3c64
0000 :                               tok_dim = $3c65
0000 :                               tok_dir = $3c66
0000 :                               tok_else = $3c67
0000 :                               tok_end = $3c68
0000 :                               tok_fkey = $3c69
0000 :                               tok_gosub = $3c6a
0000 :                               tok_goto = $3c6b
0000 :                               tok_ink = $3c6c
0000 :                               tok_input = $3c6d
0000 :                               tok_let = $3c6e
0000 :                               tok_list = $3c6f
0000 :                               tok_load = $3c70
0000 :                               tok_local = $3c71
0000 :                               tok_new = $3c72
0000 :                               tok_old = $3c73
0000 :                               tok_palette = $3c74
0000 :                               tok_paper = $3c75
0000 :                               tok_poke = $3c76
0000 :                               tok_print = $3c77
0000 :                               tok_rem = $3c78
0000 :                               tok_renumber = $3c79
0000 :                               tok_return = $3c7a
0000 :                               tok_run = $3c7b
0000 :                               tok_save = $3c7c
0000 :                               tok_screen = $3c7d
0000 :                               tok_stop = $3c7e
0000 :                               tok_sys = $3c7f
0000 :                               cpustacksize = 256
0000 :                               returnstacksize = 256
0000 :                               localstacksize = 512
0000 :                               maxstringsize = 255
0000 :                               extrastringalloc = 8
0000 :                               hashtablesize = 16
0000 :                               hashtablepower = 4
0000 :                               stacksize = 32
0000 :                               stackelementsize = 3
0000 :                               esvalue1 = 0
0000 :                               estype1 = 1
0000 :                               esreference1 = 2
0000 :                               esvalue2 = 0+stackelementsize
0000 :                               estype2 = 1+stackelementsize
0000 :                               esreference2 = 2+stackelementsize
0000 :                               stackpossize = 2
0000 :                               indentstep = 2
0000 :                               theme_line = 2
0000 :                               theme_keyword = 6
0000 :                               theme_ident = 3
0000 :                               theme_const = 3
0000 :                               theme_string = 7
0000 :                               theme_punc = 2
1000 : aff0 100b                     jmp  #coldstart
1002 :                               .basicprompt
1002 : 000f 6142 6973 3a63 2020      string "basic[3a]  0.21[0d,0d,12]"
100b :                               .coldstart
100b : 5ce1                          dec  sp
100c : 2cf0 4073                     stm  sp,#returnstacktop
100e : 5cf0 0100                     sub  sp,#returnstacksize
1010 : 2cf0 4074                     stm  sp,#returnstackbottom
1012 : 2cf0 4075                     stm  sp,#localstacktop
1014 : 5cf0 0200                     sub  sp,#localstacksize
1016 : 2cf0 4076                     stm  sp,#localstackbottom
1018 : 2cf0 4077                     stm  sp,#initialsp
101a : 00f0 4300                     mov  r0,#freebasiccode
101c : 20f0 406f                     stm  r0,#programcode
101e : 00f0 1002                     mov  r0,#basicprompt
1020 : ade8                          jsr  #osprintstring
1021 : 0bf0 6000                     mov  r11,#$6000
1023 : aff0 1748                     jmp  #runprogram
1025 : adf0 16bc                     jsr  #command_new
1027 :                               .warmstart
1027 : 1cf0 4077                     ldm  sp,#initialsp
1029 : adee                          jsr  #oslineinput
102a : adf0 1dca                     jsr  #tokenisestring
102c : c0e0                          sknz  r0
102d : aff0 2161                     jmp  #tokeniseerror
102f : 0b00                          mov  r11,r0,#0
1030 : 1202                          ldm  r2,r0,#2
1031 : e2e0                          skm  r2
1032 : aff0 1759                     jmp  #runprogramr11
1034 : aff0 1c68                     jmp  #editprogram
1036 :                               .asmreset
1036 : 2ef0 407e                     stm  r14,#asmpointer
1038 : afd0                          ret
1039 :                               .command_code
1039 : 5ce1 2dc0                     push  link
103b : adf0 19da                     jsr  #evaluateinteger
103d : 20f0 407e                     stm  r0,#asmpointer
103f : adf0 1c31                     jsr  #checkcomma
1041 : adf0 19da                     jsr  #evaluateinteger
1043 : 20f0 407f                     stm  r0,#asmmode
1045 : 1dc0 3ce1                     pop  link
1047 : afd0                          ret
1048 :                               .command_word
1048 : 5ce1 2dc0                     push  link
104a :                               ._cwloop
104a : adf0 192a                     jsr  #evaluateexpression
104c : 10a0                          ldm  r0,r10,#esvalue1
104d : 11a2                          ldm  r1,r10,#esreference1
104e : b1e0                          skz  r1
104f : 1000                          ldm  r0,r0,#0
1050 : 11a1                          ldm  r1,r10,#estype1
1051 : b1e0                          skz  r1
1052 : aff0 1058                     jmp  #_cwstring
1054 : adf0 106f                     jsr  #asmword
1056 : aff0 1064                     jmp  #_cwnext
1058 :                               ._cwstring
1058 : 0100                          mov  r1,r0,#0
1059 : adf0 0034                     jsr  #oswordlength
105b : 0200                          mov  r2,r0,#0
105c :                               ._cwcopystring
105c : 1010                          ldm  r0,r1,#0
105d : adf0 106f                     jsr  #asmword
105f : 31e1                          inc  r1
1060 : 52e1                          dec  r2
1061 : e2e0                          skm  r2
1062 : aff0 105c                     jmp  #_cwcopystring
1064 :                               ._cwnext
1064 : 10b0                          ldm  r0,r11,#0
1065 : 3be1                          inc  r11
1066 : 70f0 324d                     xor  r0,#tok_comma
1068 : c0e0                          sknz  r0
1069 : aff0 104a                     jmp  #_cwloop
106b : 5be1                          dec  r11
106c : 1dc0 3ce1                     pop  link
106e : afd0                          ret
106f :                               .asmword
106f : 5ce3 21c0 22c1 2dc2           push  r1,r2,link
1073 : 11f0 407e                     ldm  r1,#asmpointer
1075 : c1e0                          sknz  r1
1076 : aff0 20c3                     jmp  #noaddresserror
1078 : 2010                          stm  r0,r1,#0
1079 : 0010                          mov  r0,r1,#0
107a : 0210                          mov  r2,r1,#0
107b : 31e1                          inc  r1
107c : 21f0 407e                     stm  r1,#asmpointer
107e : 11f0 407f                     ldm  r1,#asmmode
1080 : 61e2                          and  r1,#2
1081 : c1e0                          sknz  r1
1082 : aff0 1092                     jmp  #_awexit
1084 : 01f0 0010                     mov  r1,#16
1086 : adf0 002e                     jsr  #osinttostr
1088 : ade8                          jsr  #osprintstring
1089 : 00f0 003a                     mov  r0,#58
108b : ade4                          jsr  #osprintcharacter
108c : 1020                          ldm  r0,r2,#0
108d : adf0 002e                     jsr  #osinttostr
108f : ade8                          jsr  #osprintstring
1090 : 00ed                          mov  r0,#13
1091 : ade4                          jsr  #osprintcharacter
1092 :                               ._awexit
1092 : 11c0 12c1 1dc2 3ce3           pop  r1,r2,link
1096 : afd0                          ret
1097 :                               .assembleinstruction
1097 : 5ce1 2dc0                     push  link
1099 : 12b0                          ldm  r2,r11,#0
109a : 62ef                          and  r2,#15
109b : 92e4                          ror  r2,#4
109c : 3be1                          inc  r11
109d : adf0 10c6                     jsr  #assemblegetregister
109f : 90e8                          ror  r0,#8
10a0 : 3200                          add  r2,r0,#0
10a1 : adf0 1c31                     jsr  #checkcomma
10a3 : 10b0                          ldm  r0,r11,#0
10a4 : 70f0 324b                     xor  r0,#tok_hash
10a6 : c0e0                          sknz  r0
10a7 : aff0 10be                     jmp  #_ailongformat
10a9 : adf0 10c6                     jsr  #assemblegetregister
10ab : 90ec                          ror  r0,#12
10ac : 3200                          add  r2,r0,#0
10ad : adf0 1c31                     jsr  #checkcomma
10af : adf0 1c25                     jsr  #checkhash
10b1 : adf0 19da                     jsr  #evaluateinteger
10b3 : 0100                          mov  r1,r0,#0
10b4 : 61f0 fff0                     and  r1,#$fff0
10b6 : b1e0                          skz  r1
10b7 : aff0 207e                     jmp  #badnumbererror
10b9 : 3020                          add  r0,r2,#0
10ba : adf0 106f                     jsr  #asmword
10bc : aff0 10c3                     jmp  #_aiexit
10be :                               ._ailongformat
10be : adf0 1c25                     jsr  #checkhash
10c0 : adf0 19da                     jsr  #evaluateinteger
10c2 : 0100                          mov  r1,r0,#0
10c3 :                               ._aiexit
10c3 : 1dc0 3ce1                     pop  link
10c5 : afd0                          ret
10c6 :                               .assemblegetregister
10c6 : 5ce2 21c0 2dc1                push  r1,link
10c9 : adf0 19da                     jsr  #evaluateinteger
10cb : 0100                          mov  r1,r0,#0
10cc : 61f0 fff0                     and  r1,#$fff0
10ce : b1e0                          skz  r1
10cf : aff0 20d3                     jmp  #badregistererror
10d1 : 11c0 1dc1 3ce2                pop  r1,link
10d4 : afd0                          ret
10d5 :                               .command_call
10d5 : 5ce1 2dc0                     push  link
10d7 : 11f0 4079                     ldm  r1,#proctable
10d9 :                               ._ccaloop
10d9 : 1210                          ldm  r2,r1,#0
10da : 31e1                          inc  r1
10db : c2e0                          sknz  r2
10dc : aff0 20a1                     jmp  #callerror
10de : 0323                          mov  r3,r2,#3
10df : 04b0                          mov  r4,r11,#0
10e0 :                               ._ccacheck
10e0 : 1030                          ldm  r0,r3,#0
10e1 : 1540                          ldm  r5,r4,#0
10e2 : 33e1                          inc  r3
10e3 : 34e1                          inc  r4
10e4 : 7050                          xor  r0,r5,#0
10e5 : b0e0                          skz  r0
10e6 : aff0 10d9                     jmp  #_ccaloop
10e8 : 95ee                          ror  r5,#14
10e9 : e5e0                          skm  r5
10ea : aff0 10e0                     jmp  #_ccacheck
10ec : adf0 1560                     jsr  #localnewframe
10ee : 1040                          ldm  r0,r4,#0
10ef : 70f0 324c                     xor  r0,#tok_rparen
10f1 : b0e0                          skz  r0
10f2 : adf0 1104                     jsr  #_ccadoparameters
10f4 : 0b40                          mov  r11,r4,#0
10f5 : adf0 1c19                     jsr  #checkrightbracket
10f7 : adf0 1d3d                     jsr  #stackpushposition
10f9 : adf0 1d4e                     jsr  #stackpushmarker
10fb : 0063                          word  'c'
10fc : 0b30                          mov  r11,r3,#0
10fd : 22f0 4078                     stm  r2,#currentline
10ff : adf0 1c19                     jsr  #checkrightbracket
1101 : 1dc0 3ce1                     pop  link
1103 : afd0                          ret
1104 :                               ._ccadoparameters
1104 : 5ce4 20c0 21c1 22c2 2dc3      push  r0,r1,r2,link
1109 :                               ._ccadploop
1109 : 0b30                          mov  r11,r3,#0
110a : adf0 1573                     jsr  #localpushreference
110c : 03b0                          mov  r3,r11,#0
110d : 12a1                          ldm  r2,r10,#estype1
110e : 11a0                          ldm  r1,r10,#esvalue1
110f : 0b40                          mov  r11,r4,#0
1110 : c2e0                          sknz  r2
1111 : adf0 19da                     jsr  #evaluateinteger
1113 : b2e0                          skz  r2
1114 : adf0 19d0                     jsr  #evaluatestring
1116 : 04b0                          mov  r4,r11,#0
1117 : c2e0                          sknz  r2
1118 : 2010                          stm  r0,r1,#0
1119 : b2e0                          skz  r2
111a : adf0 1d8f                     jsr  #stringassign
111c :                               ._ccadpnotstring
111c : 1040                          ldm  r0,r4,#0
111d : 33e1                          inc  r3
111e : 34e1                          inc  r4
111f : 70f0 324d                     xor  r0,#tok_comma
1121 : c0e0                          sknz  r0
1122 : aff0 1109                     jmp  #_ccadploop
1124 : 54e1                          dec  r4
1125 : 53e1                          dec  r3
1126 : 10c0 11c1 12c2 1dc3 3ce4      pop  r0,r1,r2,link
112b : afd0                          ret
112c :                               .command_proc
112c : aff0 2047                     jmp  #syntaxerror
112e :                               .command_endproc
112e : 5ce1 2dc0                     push  link
1130 : adf0 1d5d                     jsr  #stackcheckmarker
1132 : 0063                          word  'c'
1133 : aff0 2125                     jmp  #endprocerror
1135 : adf0 1d47                     jsr  #stackpopposition
1137 : 00e3                          mov  r0,#1+stackpossize
1138 : adf0 1d66                     jsr  #stackpopwords
113a : adf0 15b5                     jsr  #localrestoreframe
113c : 1dc0 3ce1                     pop  link
113e : afd0                          ret
113f :                               .scanforprocedures
113f : 12f0 4072                     ldm  r2,#memallocbottom
1141 : 22f0 4079                     stm  r2,#proctable
1143 : 13f0 406f                     ldm  r3,#programcode
1145 :                               ._sfploop
1145 : 1030                          ldm  r0,r3,#0
1146 : c0e0                          sknz  r0
1147 : aff0 1163                     jmp  #_sfpexit
1149 : 1132                          ldm  r1,r3,#2
114a : 71f0 3e55                     xor  r1,#tok_proc
114c : b1e0                          skz  r1
114d : aff0 1160                     jmp  #_sfpnext
114f : 1133                          ldm  r1,r3,#3
1150 : 61f0 c000                     and  r1,#$c000
1152 : 71f0 4000                     xor  r1,#$4000
1154 : b1e0                          skz  r1
1155 : aff0 1160                     jmp  #_sfpnext
1157 : 2320                          stm  r3,r2,#0
1158 : 32e1                          inc  r2
1159 : 0124                          mov  r1,r2,#4
115a : 14f0 4071                     ldm  r4,#memalloctop
115c : 5140                          sub  r1,r4,#0
115d : ffe0                          sklt
115e : aff0 2152                     jmp  #memoryerror
1160 :                               ._sfpnext
1160 : 3300                          add  r3,r0,#0
1161 : aff0 1145                     jmp  #_sfploop
1163 :                               ._sfpexit
1163 : 2e20                          stm  r14,r2,#0
1164 : 32e1                          inc  r2
1165 : 22f0 4072                     stm  r2,#memallocbottom
1167 : afd0                          ret
1168 :                               .command_clear
1168 : 5ce1 2dc0                     push  link
116a : 00c0                          mov  r0,sp,#0
116b : 50f0 0100                     sub  r0,#cpustacksize
116d : 20f0 4070                     stm  r0,#endmemory
116f : 20f0 4071                     stm   r0,#memalloctop
1171 : adf0 1f5d                     jsr  #varerasehashtables
1173 : adf0 1cd4                     jsr  #findprogramend
1175 : 30e1                          inc  r0
1176 : 20f0 4072                     stm  r0,#memallocbottom
1178 : adf0 1d37                     jsr  #stackreset
117a : adf0 1558                     jsr  #localreset
117c : adf0 1036                     jsr  #asmreset
117e : adf0 113f                     jsr  #scanforprocedures
1180 : 1dc0 3ce1                     pop  link
1182 : afd0                          ret
1183 :                               .command_dim
1183 : 5ce1 2dc0                     push  link
1185 :                               ._cdinextarray
1185 : 10b0                          ldm  r0,r11,#0
1186 : 90ec                          ror  r0,#12
1187 : e0e0                          skm  r0
1188 : aff0 2047                     jmp  #syntaxerror
118a : adf0 1fc1                     jsr  #findvariable
118c : b0e0                          skz  r0
118d : aff0 2098                     jmp  #arrayexistserror
118f : 07b0                          mov  r7,r11,#0
1190 :                               ._cdiadvance
1190 : 11b0                          ldm  r1,r11,#0
1191 : 0210                          mov  r2,r1,#0
1192 : 3be1                          inc  r11
1193 : 91ee                          ror  r1,#14
1194 : e1e0                          skm  r1
1195 : aff0 1190                     jmp  #_cdiadvance
1197 : adf0 19da                     jsr  #evaluateinteger
1199 : 0500                          mov  r5,r0,#0
119a : 7880                          clr  r8
119b : 10b0                          ldm  r0,r11,#0
119c : 70f0 324d                     xor  r0,#tok_comma
119e : b0e0                          skz  r0
119f : aff0 11a8                     jmp  #_cdihavedimension
11a1 : 3be1                          inc  r11
11a2 : adf0 19da                     jsr  #evaluateinteger
11a4 : 0800                          mov  r8,r0,#0
11a5 : c8e0                          sknz  r8
11a6 : aff0 207e                     jmp  #badnumbererror
11a8 :                               ._cdihavedimension
11a8 : adf0 1c19                     jsr  #checkrightbracket
11aa : 0051                          mov  r0,r5,#1
11ab : 0181                          mov  r1,r8,#1
11ac : 8010                          mult  r0,r1,#0
11ad : ffe0                          sknc
11ae : aff0 207e                     jmp  #badnumbererror
11b0 : 0400                          mov  r4,r0,#0
11b1 : 30e4                          add  r0,#4
11b2 : 5ce1 2bc0                     push  r11
11b4 : 0b70                          mov  r11,r7,#0
11b5 : adf0 1fe9                     jsr  #createvariablerecord
11b7 : 1bc0 3ce1                     pop  r11
11b9 : 0104                          mov  r1,r0,#4
11ba : 1202                          ldm  r2,r0,#2
11bb :                               ._cdifill
11bb : 2210                          stm  r2,r1,#0
11bc : 31e1                          inc  r1
11bd : 54e1                          dec  r4
11be : b4e0                          skz  r4
11bf : aff0 11bb                     jmp  #_cdifill
11c1 : 2502                          stm  r5,r0,#2
11c2 : 2803                          stm  r8,r0,#3
11c3 : 10b0                          ldm  r0,r11,#0
11c4 : 3be1                          inc  r11
11c5 : 70f0 324d                     xor  r0,#tok_comma
11c7 : c0e0                          sknz  r0
11c8 : aff0 1185                     jmp  #_cdinextarray
11ca : 5be1                          dec  r11
11cb : 1dc0 3ce1                     pop  link
11cd : afd0                          ret
11ce :                               .unary_exists
11ce : 5ce1 2dc0                     push  link
11d0 : adf0 19d0                     jsr  #evaluatestring
11d2 : adf0 1c19                     jsr  #checkrightbracket
11d4 : 0100                          mov  r1,r0,#0
11d5 : 00e5                          mov  r0,#5
11d6 : adf0 0024                     jsr  #osfileoperation
11d8 : 1dc0 3ce1                     pop  link
11da : c0e0                          sknz  r0
11db : aff0 1b46                     jmp  #unary_true
11dd : aff0 1b49                     jmp  #unary_false
11df :                               .command_load
11df : 5ce1 2dc0                     push  link
11e1 : adf0 11ed                     jsr  #fileloader
11e3 : b0e0                          skz  r0
11e4 : aff0 11ea                     jmp  #_clexit
11e6 : adf0 1168                     jsr  #command_clear
11e8 : aff0 1027                     jmp  #warmstart
11ea :                               ._clexit
11ea : 1dc0 3ce1                     pop  link
11ec : afd0                          ret
11ed :                               .fileloader
11ed : 5ce1 2dc0                     push  link
11ef : adf0 19d0                     jsr  #evaluatestring
11f1 : 0100                          mov  r1,r0,#0
11f2 : 12f0 406f                     ldm  r2,#programcode
11f4 : 10b0                          ldm  r0,r11,#0
11f5 : 70f0 324d                     xor  r0,#tok_comma
11f7 : b0e0                          skz  r0
11f8 : aff0 11fe                     jmp  #_clloadcontinue
11fa : 3be1                          inc  r11
11fb : adf0 19da                     jsr  #evaluateinteger
11fd : 0200                          mov  r2,r0,#0
11fe :                               ._clloadcontinue
11fe : 00e2                          mov  r0,#2
11ff : adf0 0024                     jsr  #osfileoperation
1201 : b0e0                          skz  r0
1202 : aff0 2174                     jmp  #loaderror
1204 : 10f0 406f                     ldm  r0,#programcode
1206 : 7020                          xor  r0,r2,#0
1207 : 1dc0 3ce1                     pop  link
1209 : afd0                          ret
120a :                               .command_dir
120a : 5ce1 2dc0                     push  link
120c : 00e4                          mov  r0,#4
120d : 11f0 4072                     ldm  r1,#memallocbottom
120f : adf0 0024                     jsr  #osfileoperation
1211 :                               ._cdlist
1211 : 1010                          ldm  r0,r1,#0
1212 : c0e0                          sknz  r0
1213 : aff0 1220                     jmp  #_cdexit
1215 : 0200                          mov   r2,r0,#0
1216 : 72f0 0020                     xor  r2,#32
1218 : c2e0                          sknz  r2
1219 : 00ed                          mov  r0,#13
121a : adf0 0032                     jsr  #oslowercase
121c : ade4                          jsr  #osprintcharacter
121d : 31e1                          inc  r1
121e : aff0 1211                     jmp  #_cdlist
1220 :                               ._cdexit
1220 : 00ed                          mov  r0,#13
1221 : ade4                          jsr  #osprintcharacter
1222 : 1dc0 3ce1                     pop  link
1224 : afd0                          ret
1225 :                               .command_save
1225 : 5ce1 2dc0                     push  link
1227 : 01f0 1256                     mov  r1,#_csdefault
1229 : 10b0                          ldm  r0,r11,#0
122a : c0e0                          sknz  r0
122b : aff0 1237                     jmp  #_cshavefilename
122d : 70f0 3c5d                     xor  r0,#tok_colon
122f : c0e0                          sknz  r0
1230 : aff0 1237                     jmp  #_cshavefilename
1232 : adf0 19d0                     jsr  #evaluatestring
1234 : adf0 125c                     jsr  #_csvalidate
1236 : 0100                          mov  r1,r0,#0
1237 :                               ._cshavefilename
1237 : adf0 1cd4                     jsr  #findprogramend
1239 : 0300                          mov  r3,r0,#0
123a : 12f0 406f                     ldm  r2,#programcode
123c : 5320                          sub  r3,r2,#0
123d : 33e1                          inc  r3
123e : 10b0                          ldm  r0,r11,#0
123f : 70f0 324d                     xor  r0,#tok_comma
1241 : b0e0                          skz  r0
1242 : aff0 124d                     jmp  #_clsavecontinue
1244 : 3be1                          inc  r11
1245 : adf0 19da                     jsr  #evaluateinteger
1247 : 0200                          mov  r2,r0,#0
1248 : adf0 1c31                     jsr  #checkcomma
124a : adf0 19da                     jsr  #evaluateinteger
124c : 0300                          mov  r3,r0,#0
124d :                               ._clsavecontinue
124d : 00e3                          mov  r0,#3
124e : adf0 0024                     jsr  #osfileoperation
1250 : b0e0                          skz  r0
1251 : aff0 217d                     jmp  #saveerror
1253 : 1dc0 3ce1                     pop  link
1255 : afd0                          ret
1256 :                               ._csdefault
1256 : 0009 616c 7473 732e 7661      string  "last.save"
125c :                               ._csvalidate
125c : 5ce4 20c0 21c1 22c2 2dc3      push  r0,r1,r2,link
1261 : 1100                          ldm  r1,r0,#0
1262 : c1e0                          sknz  r1
1263 : aff0 2186                     jmp  #savenameerror
1265 : 0100                          mov  r1,r0,#0
1266 : adf0 0034                     jsr  #oswordlength
1268 :                               ._csvloop
1268 : 31e1                          inc  r1
1269 : 1210                          ldm  r2,r1,#0
126a : adf0 127a                     jsr  #_cssubvalidate
126c : 1210                          ldm  r2,r1,#0
126d : 92e8                          ror  r2,#8
126e : adf0 127a                     jsr  #_cssubvalidate
1270 : 50e1                          dec  r0
1271 : b0e0                          skz  r0
1272 : aff0 1268                     jmp  #_csvloop
1274 : 10c0 11c1 12c2 1dc3 3ce4      pop  r0,r1,r2,link
1279 : afd0                          ret
127a :                               ._cssubvalidate
127a : 62f0 00ff                     and  r2,#$ff
127c : c2e0                          sknz  r2
127d : afd0                          ret
127e : 5ce2 20c0 2dc1                push  r0,link
1281 : 0020                          mov  r0,r2,#0
1282 : adf0 1c3d                     jsr  #getcharactertype
1284 : c0e0                          sknz  r0
1285 : aff0 2186                     jmp  #savenameerror
1287 : 10c0 1dc1 3ce2                pop  r0,link
128a : afd0                          ret
128b :                               .command_fkey
128b : 5ce1 2dc0                     push  link
128d : adf0 19da                     jsr  #evaluateinteger
128f : 50e1                          dec  r0
1290 : 0200                          mov  r2,r0,#0
1291 : 50e6                          sub  r0,#6
1292 : ffe0                          sklt
1293 : aff0 207e                     jmp  #badnumbererror
1295 : adf0 1c31                     jsr  #checkcomma
1297 : adf0 19d0                     jsr  #evaluatestring
1299 : 0100                          mov  r1,r0,#0
129a : adf0 0034                     jsr  #oswordlength
129c : 0300                          mov  r3,r0,#0
129d : 50ec                          sub  r0,#functionkeysize
129e : ffe0                          sklt
129f : aff0 20ad                     jmp  #strlenerror
12a1 : 82ec                          mult  r2,#functionkeysize
12a2 : 32f0 401b                     add  r2,#functionkeydefinitions
12a4 :                               ._cfcopy
12a4 : 1011                          ldm  r0,r1,#1
12a5 : 2020                          stm  r0,r2,#0
12a6 : 31e1                          inc  r1
12a7 : 32e1                          inc  r2
12a8 : 53e1                          dec  r3
12a9 : b3e0                          skz  r3
12aa : aff0 12a4                     jmp  #_cfcopy
12ac : 2e20                          stm  r14,r2,#0
12ad : 1dc0 3ce1                     pop  link
12af : afd0                          ret
12b0 :                               .command_for
12b0 : 5ce1 2dc0                     push  link
12b2 : 09f0 0600                     mov  r9,#(tok_pling & 0x1e00)-0x400
12b4 : adf0 1934                     jsr  #evaluator
12b6 : 10a2                          ldm  r0,r10,#esreference1
12b7 : c0e0                          sknz  r0
12b8 : aff0 206b                     jmp   #typemismatcherror
12ba : 10a1                          ldm  r0,r10,#estype1
12bb : b0e0                          skz  r0
12bc : aff0 206b                     jmp   #typemismatcherror
12be : 10a0                          ldm  r0,r10,#esvalue1
12bf : 0100                          mov  r1,r0,#0
12c0 : adf0 1d6c                     jsr  #stackpushr0
12c2 : 00f0 2421                     mov  r0,#tok_equal
12c4 : adf0 1c0e                     jsr  #checknexttoken
12c6 : adf0 19da                     jsr  #evaluateinteger
12c8 : 2010                          stm  r0,r1,#0
12c9 : 00f0 324f                     mov  r0,#tok_to
12cb : adf0 1c0e                     jsr  #checknexttoken
12cd : adf0 19da                     jsr  #evaluateinteger
12cf : adf0 1d6c                     jsr  #stackpushr0
12d1 : 11b0                          ldm  r1,r11,#0
12d2 : 71f0 3250                     xor  r1,#tok_step
12d4 : 00e1                          mov  r0,#1
12d5 : b1e0                          skz  r1
12d6 : aff0 12db                     jmp  #_cfhavestep
12d8 : 3be1                          inc  r11
12d9 : adf0 19da                     jsr  #evaluateinteger
12db :                               ._cfhavestep
12db : adf0 1d6c                     jsr  #stackpushr0
12dd : adf0 1d3d                     jsr  #stackpushposition
12df : adf0 1d4e                     jsr  #stackpushmarker
12e1 : 0066                          word  'f'
12e2 : 1dc0 3ce1                     pop  link
12e4 : afd0                          ret
12e5 :                               .command_next
12e5 : 5ce1 2dc0                     push  link
12e7 : adf0 1d5d                     jsr  #stackcheckmarker
12e9 : 0066                          word  'f'
12ea : aff0 2132                     jmp  #nexterror
12ec : 12f0 407c                     ldm  r2,#returnstackptr
12ee : 10b0                          ldm  r0,r11,#0
12ef : 60f0 c000                     and  r0,#$c000
12f1 : 70f0 4000                     xor  r0,#$4000
12f3 : b0e0                          skz  r0
12f4 : aff0 1300                     jmp  #_cndefaultidentifier
12f6 : 09f0 0600                     mov  r9,#(tok_pling & 0x1e00)-0x400
12f8 : adf0 1934                     jsr  #evaluator
12fa : 13a0                          ldm  r3,r10,#esvalue1
12fb : 1125                          ldm  r1,r2,#stackpossize+3
12fc : 7130                          xor  r1,r3,#0
12fd : b1e0                          skz  r1
12fe : aff0 2086                     jmp  #badindexerror
1300 :                               ._cndefaultidentifier
1300 : 1325                          ldm  r3,r2,#stackpossize+3
1301 : 1424                          ldm  r4,r2,#stackpossize+2
1302 : 1530                          ldm  r5,r3,#0
1303 : 1623                          ldm  r6,r2,#stackpossize+1
1304 : d6e0                          skp  r6
1305 : 54e1                          dec  r4
1306 : 0140                          mov  r1,r4,#0
1307 : 1530                          ldm  r5,r3,#0
1308 : 5150                          sub  r1,r5,#0
1309 : 3560                          add  r5,r6,#0
130a : 2530                          stm  r5,r3,#0
130b : 5450                          sub  r4,r5,#0
130c : d410                          skse  r4,r1,#0
130d : aff0 1314                     jmp  #_cnendloop
130f :                               ._cnloop
130f : adf0 1d47                     jsr  #stackpopposition
1311 : 1dc0 3ce1                     pop  link
1313 : afd0                          ret
1314 :                               ._cnendloop
1314 : 00e6                          mov  r0,#4+stackpossize
1315 : adf0 1d66                     jsr  #stackpopwords
1317 : 1dc0 3ce1                     pop  link
1319 : afd0                          ret
131a :                               .command_cls
131a : 00ec                          mov  r0,#12
131b : afe4                          jmp  #osprintcharacter
131c :                               .command_ink
131c : 5ce1 2dc0                     push link
131e : adf0 19da                     jsr  #evaluateinteger
1320 : 0100                          mov  r1,r0,#0
1321 : 61f0 fff0                     and  r1,#$fff0
1323 : b1e0                          skz  r1
1324 : aff0 207e                     jmp  #badnumbererror
1326 : 30f0 0010                     add  r0,#$10
1328 : ade4                          jsr  #osprintcharacter
1329 : 1dc0 3ce1                     pop  link
132b : afd0                          ret
132c :                               .command_paper
132c : 5ce1 2dc0                     push  link
132e : 00ef                          mov  r0,#15
132f : ade4                          jsr  #osprintcharacter
1330 : adf0 131c                     jsr  #command_ink
1332 : 00ef                          mov  r0,#15
1333 : ade4                          jsr  #osprintcharacter
1334 : 1dc0 3ce1                     pop  link
1336 : afd0                          ret
1337 :                               .command_screen
1337 : 5ce1 2dc0                     push  link
1339 : adf0 19da                     jsr  #evaluateinteger
133b : 0100                          mov  r1,r0,#0
133c : 60f0 fff8                     and  r0,#$fff8
133e : b0e0                          skz  r0
133f : aff0 207e                     jmp  #badnumbererror
1341 : adf0 1c31                     jsr  #checkcomma
1343 : adf0 19da                     jsr  #evaluateinteger
1345 : 0200                          mov  r2,r0,#0
1346 : 60f0 fff8                     and  r0,#$fff8
1348 : b0e0                          skz  r0
1349 : aff0 207e                     jmp  #badnumbererror
134b : 92e8                          ror  r2,#8
134c : 0010                          mov  r0,r1,#0
134d : 3020                          add  r0,r2,#0
134e : adf0 0016                     jsr  #ossetplanes
1350 : 1dc0 3ce1                     pop  link
1352 : afd0                          ret
1353 :                               .command_blit
1353 : 5ce1 2dc0                     push  link
1355 : ade2                          jsr  #oswaitblitter
1356 : adf0 19da                     jsr  #evaluateinteger
1358 : 20f0 ff20                     stm  r0,#blitterx
135a : adf0 1c31                     jsr  #checkcomma
135c : adf0 19da                     jsr  #evaluateinteger
135e : 20f0 ff21                     stm  r0,#blittery
1360 : adf0 1c31                     jsr  #checkcomma
1362 : adf0 19da                     jsr  #evaluateinteger
1364 : 0100                          mov  r1,r0,#0
1365 : 61f0 ff00                     and  r1,#$ff00
1367 : b1e0                          skz  r1
1368 : aff0 136e                     jmp  #_cblitdata
136a : 90ec                          ror  r0,#12
136b : 11f0 4003                     ldm  r1,#spriteimagememory
136d : 3010                          add  r0,r1,#0
136e :                               ._cblitdata
136e : 20f0 ff22                     stm  r0,#blitterdata
1370 : adf0 1c31                     jsr  #checkcomma
1372 : adf0 19da                     jsr  #evaluateinteger
1374 : 20f0 ff23                     stm  r0,#blittercmask
1376 : adf0 1c31                     jsr  #checkcomma
1378 : adf0 19da                     jsr  #evaluateinteger
137a : 20f0 ff24                     stm  r0,#blittercmd
137c : 1dc0 3ce1                     pop  link
137e : afd0                          ret
137f :                               .command_palette
137f : 5ce1 2dc0                     push  link
1381 : adf0 19da                     jsr  #evaluateinteger
1383 : 0200                          mov  r2,r0,#0
1384 : adf0 1c31                     jsr  #checkcomma
1386 : adf0 19da                     jsr  #evaluateinteger
1388 : 0300                          mov  r3,r0,#0
1389 : 60f0 fffe                     and  r0,#$fffe
138b : b0e0                          skz  r0
138c : aff0 207e                     jmp  #badnumbererror
138e : adf0 1c31                     jsr  #checkcomma
1390 : adf0 19da                     jsr  #evaluateinteger
1392 : 0100                          mov  r1,r0,#0
1393 : 61e7                          and  r1,#7
1394 : 0020                          mov  r0,r2,#0
1395 : c3e0                          sknz  r3
1396 : adf0 034f                     jsr  #osxsetbackplanepalette
1398 : b3e0                          skz  r3
1399 : adf0 0364                     jsr  #osxsetfrontplanepalette
139b : 1dc0 3ce1                     pop  link
139d : afd0                          ret
139e :                               .command_if
139e : 5ce1 2dc0                     push  link
13a0 : adf0 19da                     jsr  #evaluateinteger
13a2 : 11b0                          ldm  r1,r11,#0
13a3 : 71f0 3a58                     xor  r1,#tok_then
13a5 : b1e0                          skz  r1
13a6 : aff0 13b4                     jmp  #_cifmultiline
13a8 : 3be1                          inc  r11
13a9 : b0e0                          skz  r0
13aa : aff0 13b1                     jmp  #_cifexit
13ac : 1bf0 4078                     ldm  r11,#currentline
13ae : 10b0                          ldm  r0,r11,#0
13af : 3b00                          add  r11,r0,#0
13b0 : 5be1                          dec  r11
13b1 :                               ._cifexit
13b1 : 1dc0 3ce1                     pop  link
13b3 : afd0                          ret
13b4 :                               ._cifmultiline
13b4 : c0e0                          sknz  r0
13b5 : aff0 13bd                     jmp  #_cifmultiline_false
13b7 : adf0 1d4e                     jsr  #stackpushmarker
13b9 : 0069                          word  'i'
13ba : 1dc0 3ce1                     pop  link
13bc : afd0                          ret
13bd :                               ._cifmultiline_false
13bd : 00f0 3c67                     mov  r0,#tok_else
13bf : 01f0 3a56                     mov  r1,#tok_endif
13c1 : adf0 1cf9                     jsr  #skipstructure
13c3 : 5be1                          dec  r11
13c4 : 10b0                          ldm  r0,r11,#0
13c5 : 3be1                          inc  r11
13c6 : 70f0 3a56                     xor  r0,#tok_endif
13c8 : c0e0                          sknz  r0
13c9 : aff0 13b1                     jmp  #_cifexit
13cb : adf0 1d4e                     jsr  #stackpushmarker
13cd : 0069                          word  'i'
13ce : 1dc0 3ce1                     pop  link
13d0 : afd0                          ret
13d1 :                               .command_else
13d1 : 5ce1 2dc0                     push  link
13d3 : adf0 1d5d                     jsr  #stackcheckmarker
13d5 : 0069                          word  'i'
13d6 : aff0 210f                     jmp  #elseerror
13d8 : 00e1                          mov  r0,#1
13d9 : adf0 1d66                     jsr  #stackpopwords
13db : 00f0 3a56                     mov  r0,#tok_endif
13dd : 0100                          mov  r1,r0,#0
13de : adf0 1cf9                     jsr  #skipstructure
13e0 : 1dc0 3ce1                     pop  link
13e2 : afd0                          ret
13e3 :                               .command_endif
13e3 : 5ce1 2dc0                     push  link
13e5 : adf0 1d5d                     jsr  #stackcheckmarker
13e7 : 0069                          word  'i'
13e8 : aff0 211a                     jmp  #endiferror
13ea : 00e1                          mov  r0,#1
13eb : adf0 1d66                     jsr  #stackpopwords
13ed : 1dc0 3ce1                     pop  link
13ef : afd0                          ret
13f0 :                               .command_input
13f0 : 5ce1 2dc0                     push  link
13f2 : 09f0 0600                     mov  r9,#(tok_pling & 0x1e00)-0x400
13f4 : adf0 1934                     jsr  #evaluator
13f6 : 10a2                          ldm  r0,r10,#esreference1
13f7 : c0e0                          sknz  r0
13f8 : aff0 2047                     jmp  #syntaxerror
13fa :                               ._cinget
13fa : adf0 0014                     jsr  #osgettextpos
13fc : 01f0 0035                     mov  r1,#charwidth
13fe : 5100                          sub  r1,r0,#0
13ff : 00f0 423a                     mov  r0,#inputbuffer
1401 : adf0 0010                     jsr  #osinputlimit
1403 : 11a1                          ldm  r1,r10,#estype1
1404 : b1e0                          skz  r1
1405 : aff0 1417                     jmp  #_cinstring
1407 : 01ea                          mov  r1,#10
1408 : adf0 1baf                     jsr  #compactstringtointeger
140a : b1e0                          skz  r1
140b : aff0 1412                     jmp  #_cinbadinput
140d : 11a0                          ldm  r1,r10,#esvalue1
140e : 2010                          stm  r0,r1,#0
140f : 1dc0 3ce1                     pop  link
1411 : afd0                          ret
1412 :                               ._cinbadinput
1412 : ade6                          jsr  #osprintinline
1413 : 0002 3f3f                     string "??"
1415 : aff0 13fa                     jmp  #_cinget
1417 :                               ._cinstring
1417 : 11a0                          ldm  r1,r10,#esvalue1
1418 : adf0 1d8f                     jsr  #stringassign
141a : 1dc0 3ce1                     pop  link
141c : afd0                          ret
141d :                               .command_let
141d : 5ce2 29c0 2dc1                push  r9,link
1420 : 09f0 0600                     mov  r9,#(tok_pling & 0x1e00)-0x400
1422 : adf0 1934                     jsr  #evaluator
1424 : 10a2                          ldm  r0,r10,#esreference1
1425 : c0e0                          sknz  r0
1426 : aff0 2047                     jmp  #syntaxerror
1428 : 00f0 2421                     mov  r0,#tok_equal
142a : adf0 1c0e                     jsr  #checknexttoken
142c : 10a1                          ldm  r0,r10,#estype1
142d : b0e0                          skz  r0
142e : aff0 1438                     jmp  #_clstring
1430 : 11a0                          ldm  r1,r10,#esvalue1
1431 : adf0 19da                     jsr  #evaluateinteger
1433 : 2010                          stm  r0,r1,#0
1434 : 19c0 1dc1 3ce2                pop  r9,link
1437 : afd0                          ret
1438 :                               ._clstring
1438 : 11a0                          ldm  r1,r10,#esvalue1
1439 : adf0 19d0                     jsr  #evaluatestring
143b : adf0 1d8f                     jsr  #stringassign
143d : 19c0 1dc1 3ce2                pop  r9,link
1440 : afd0                          ret
1441 :                               .command_list
1441 : 00ec                          mov  r0,#12
1442 : ade4                          jsr  #osprintcharacter
1443 : 7660                          clr  r6
1444 : 7770                          clr  r7
1445 : 10b0                          ldm  r0,r11,#0
1446 : c0e0                          sknz  r0
1447 : aff0 1451                     jmp  #_clhaveline
1449 : 70f0 3c5d                     xor  r0,#tok_colon
144b : c0e0                          sknz  r0
144c : aff0 1451                     jmp  #_clhaveline
144e : adf0 19da                     jsr  #evaluateinteger
1450 : 0600                          mov  r6,r0,#0
1451 :                               ._clhaveline
1451 : 1bf0 406f                     ldm  r11,#programcode
1453 :                               ._cllistloop
1453 : adf0 0014                     jsr  #osgettextpos
1455 : 51f0 001a                     sub  r1,#charheight-4
1457 : ffe0                          sklt
1458 : aff0 1027                     jmp  #warmstart
145a : 10b0                          ldm  r0,r11,#0
145b : c0e0                          sknz  r0
145c : aff0 1027                     jmp  #warmstart
145e : 10b1                          ldm  r0,r11,#1
145f : d0e0                          skp  r0
1460 : aff0 1466                     jmp  #_cllistnextline
1462 : 5060                          sub  r0,r6,#0
1463 : ffe0                          sklt
1464 : adf0 146a                     jsr  #listoneline
1466 :                               ._cllistnextline
1466 : 10b0                          ldm  r0,r11,#0
1467 : 3b00                          add  r11,r0,#0
1468 : aff0 1453                     jmp  #_cllistloop
146a :                               .listoneline
146a : 5ce4 26c0 2ac1 2bc2 2dc3      push  r6,r10,r11,link
146f : 0ab0                          mov  r10,r11,#0
1470 : 00f0 fffe                     mov  r0,#-indentstep
1472 : 01f0 1a00                     mov  r1,#13<<9
1474 : adf0 151b                     jsr  #listcheckadjustindent
1476 : 00f0 0012                     mov  r0,#theme_line+$10
1478 : ade4                          jsr  #osprintcharacter
1479 : 10b1                          ldm  r0,r11,#1
147a : 01ea                          mov  r1,#10
147b : adf0 002e                     jsr  #osinttostr
147d : ade8                          jsr  #osprintstring
147e : 1000                          ldm  r0,r0,#0
147f : 01e6                          mov  r1,#6
1480 : e7e0                          skm  r7
1481 : 3170                          add  r1,r7,#0
1482 : 5100                          sub  r1,r0,#0
1483 :                               ._lolspacing
1483 : 00f0 0020                     mov  r0,#$20
1485 : ade4                          jsr  #osprintcharacter
1486 : 51e1                          dec  r1
1487 : b1e0                          skz  r1
1488 : aff0 1483                     jmp  #_lolspacing
148a : 3be2                          add  r11,#2
148b : 7880                          clr  r8
148c : 2ef0 407d                     stm  r14,#lastlisttoken
148e :                               ._lolloop
148e : 10b0                          ldm  r0,r11,#0
148f : c0e0                          sknz  r0
1490 : aff0 1496                     jmp  #_lolexit
1492 : adf0 14a5                     jsr  #decodetoken
1494 : aff0 148e                     jmp  #_lolloop
1496 :                               ._lolexit
1496 : 00ed                          mov  r0,#13
1497 : ade4                          jsr  #osprintcharacter
1498 : 00e2                          mov  r0,#indentstep
1499 : 01f0 1e00                     mov  r1,#15<<9
149b : adf0 151b                     jsr  #listcheckadjustindent
149d : d7e0                          skp  r7
149e : 7770                          clr  r7
149f : 16c0 1ac1 1bc2 1dc3 3ce4      pop  r6,r10,r11,link
14a4 : afd0                          ret
14a5 :                               .decodetoken
14a5 : 5ce1 2dc0                     push  link
14a7 : 7990                          clr  r9
14a8 : 10b0                          ldm  r0,r11,#0
14a9 : 5ce1 20c0                     push  r0
14ab : 01f0 8000                     mov  r1,#$8000
14ad : 10b0                          ldm  r0,r11,#0
14ae : d0e0                          skp  r0
14af : aff0 14b8                     jmp  #_dtdigit
14b1 : 70f0 302c                     xor  r0,#tok_vbarconstshift
14b3 : b0e0                          skz  r0
14b4 : aff0 14cf                     jmp  #_dtnotconstant
14b6 : 7110                          clr  r1
14b7 : 3be1                          inc  r11
14b8 :                               ._dtdigit
14b8 : 00f0 0013                     mov  r0,#theme_const+$10
14ba : ade4                          jsr  #osprintcharacter
14bb : 10b0                          ldm  r0,r11,#0
14bc : 3be1                          inc  r11
14bd : 7010                          xor  r0,r1,#0
14be : 01ea                          mov  r1,#10
14bf : 12f0 407d                     ldm  r2,#lastlisttoken
14c1 : 72f0 302b                     xor  r2,#tok_percent
14c3 : c2e0                          sknz  r2
14c4 : 01e2                          mov  r1,#2
14c5 : 72e1                          xor  r2,#tok_percent^tok_ampersand
14c6 : c2e0                          sknz  r2
14c7 : 01f0 0010                     mov  r1,#16
14c9 : adf0 002e                     jsr  #osinttostr
14cb : adf0 15fb                     jsr  #listprintstring
14cd : aff0 1514                     jmp  #_dtexit
14cf :                               ._dtnotconstant
14cf : 10b0                          ldm  r0,r11,#0
14d0 : 60f0 ff00                     and  r0,#$ff00
14d2 : 70f0 0100                     xor  r0,#$0100
14d4 : b0e0                          skz  r0
14d5 : aff0 14eb                     jmp  #_dtnotstring
14d7 : 00f0 0017                     mov  r0,#theme_string+$10
14d9 : ade4                          jsr  #osprintcharacter
14da : 00f0 0022                     mov  r0,#'"'
14dc : adf0 15da                     jsr  #listprintcharacter
14de : 00b1                          mov  r0,r11,#1
14df : adf0 15fb                     jsr  #listprintstring
14e1 : 00f0 0022                     mov  r0,#'"'
14e3 : adf0 15da                     jsr  #listprintcharacter
14e5 : 10b0                          ldm  r0,r11,#0
14e6 : 60f0 00ff                     and  r0,#$00ff
14e8 : 3b00                          add  r11,r0,#0
14e9 : aff0 1514                     jmp  #_dtexit
14eb :                               ._dtnotstring
14eb : 10b0                          ldm  r0,r11,#0
14ec : 3000                          add  r0,r0,#0
14ed : e0e0                          skm  r0
14ee : aff0 14f9                     jmp  #_dtistoken
14f0 : 00f0 0013                     mov  r0,#theme_ident+$10
14f2 : ade4                          jsr  #osprintcharacter
14f3 : 00b0                          mov  r0,r11,#0
14f4 : adf0 1617                     jsr  #listprintencodedidentifier
14f6 : 0b00                          mov  r11,r0,#0
14f7 : aff0 1514                     jmp  #_dtexit
14f9 :                               ._dtistoken
14f9 : 00f0 0016                     mov  r0,#theme_keyword+$10
14fb : ade4                          jsr  #osprintcharacter
14fc : 11b0                          ldm  r1,r11,#0
14fd : 61f0 01ff                     and  r1,#$01ff
14ff : 02f0 2190                     mov  r2,#tokeniserwords
1501 :                               ._dtfindtoken
1501 : c1e0                          sknz  r1
1502 : aff0 150b                     jmp  #_dthavetoken
1504 : 51e1                          dec  r1
1505 : 1020                          ldm  r0,r2,#0
1506 : 60f0 00ff                     and  r0,#$00ff
1508 : 3201                          add  r2,r0,#1
1509 : aff0 1501                     jmp  #_dtfindtoken
150b :                               ._dthavetoken
150b : 0021                          mov  r0,r2,#1
150c : 1300                          ldm  r3,r0,#0
150d : e3e0                          skm  r3
150e : adf0 1617                     jsr  #listprintencodedidentifier
1510 : d3e0                          skp  r3
1511 : adf0 1668                     jsr  #listprintpunctuation
1513 : 3be1                          inc  r11
1514 :                               ._dtexit
1514 : 10c0 3ce1                     pop  r0
1516 : 20f0 407d                     stm  r0,#lastlisttoken
1518 : 1dc0 3ce1                     pop  link
151a : afd0                          ret
151b :                               .listcheckadjustindent
151b : 5ce4 20c0 21c1 22c2 2ac3      push  r0,r1,r2,r10
1520 : 3ae1                          inc  r10
1521 :                               ._lcailoop
1521 : 3ae1                          inc  r10
1522 :                               ._lcailoopnoinc
1522 : 12a0                          ldm  r2,r10,#0
1523 : c2e0                          sknz  r2
1524 : aff0 1543                     jmp  #_lcaiexit
1526 : 62f0 ff00                     and  r2,#$ff00
1528 : 72f0 0100                     xor  r2,#$0100
152a : c2e0                          sknz  r2
152b : aff0 153d                     jmp  #_lcaistringskip
152d : 12a0                          ldm  r2,r10,#0
152e : 62f0 e000                     and  r2,#$e000
1530 : 72f0 2000                     xor  r2,#$2000
1532 : b2e0                          skz  r2
1533 : aff0 1521                     jmp  #_lcailoop
1535 : 12a0                          ldm  r2,r10,#0
1536 : 62f0 1e00                     and  r2,#15<<9
1538 : 7210                          xor  r2,r1,#0
1539 : c2e0                          sknz  r2
153a : 3700                          add  r7,r0,#0
153b : aff0 1521                     jmp  #_lcailoop
153d :                               ._lcaistringskip
153d : 12a0                          ldm  r2,r10,#0
153e : 62f0 00ff                     and  r2,#$00ff
1540 : 3a20                          add  r10,r2,#0
1541 : aff0 1522                     jmp  #_lcailoopnoinc
1543 :                               ._lcaiexit
1543 : 10c0 11c1 12c2 1ac3 3ce4      pop  r0,r1,r2,r10
1548 : afd0                          ret
1549 :                               .command_local
1549 : 5ce1 2dc0                     push  link
154b :                               ._clloop
154b : adf0 1573                     jsr  #localpushreference
154d : 10b0                          ldm  r0,r11,#0
154e : 3be1                          inc  r11
154f : 70f0 324d                     xor  r0,#tok_comma
1551 : c0e0                          sknz  r0
1552 : aff0 154b                     jmp  #_clloop
1554 : 5be1                          dec  r11
1555 : 1dc0 3ce1                     pop  link
1557 : afd0                          ret
1558 :                               .localreset
1558 : 10f0 4075                     ldm  r0,#localstacktop
155a : 20f0 407b                     stm  r0,#localstackptr
155c : 01f0 ffff                     mov  r1,#-1
155e : 2100                          stm  r1,r0,#0
155f : afd0                          ret
1560 :                               .localnewframe
1560 : 5ce1 2dc0                     push  link
1562 : 7000                          clr  r0
1563 : adf0 1568                     jsr  #localpush
1565 : 1dc0 3ce1                     pop  link
1567 : afd0                          ret
1568 :                               .localpush
1568 : 5ce1 21c0                     push  r1
156a : 11f0 407b                     ldm  r1,#localstackptr
156c : 51e1                          dec  r1
156d : 2010                          stm  r0,r1,#0
156e : 21f0 407b                     stm  r1,#localstackptr
1570 : 11c0 3ce1                     pop  r1
1572 : afd0                          ret
1573 :                               .localpushreference
1573 : 5ce1 2dc0                     push  link
1575 : 10b0                          ldm  r0,r11,#0
1576 : 60f0 4800                     and  r0,#$4800
1578 : 70f0 4000                     xor  r0,#$4000
157a : b0e0                          skz  r0
157b : aff0 206b                     jmp  #typemismatcherror
157d : 09f0 0600                     mov  r9,#(tok_pling & 0x1e00)-0x400
157f : adf0 1934                     jsr  #evaluator
1581 : 10a2                          ldm  r0,r10,#esreference1
1582 : c0e0                          sknz  r0
1583 : aff0 206b                     jmp   #typemismatcherror
1585 : 10a1                          ldm  r0,r10,#estype1
1586 : b0e0                          skz  r0
1587 : aff0 1597                     jmp  #_lprsstring
1589 : 11a0                          ldm  r1,r10,#esvalue1
158a : 1010                          ldm  r0,r1,#0
158b : adf0 1568                     jsr  #localpush
158d : 0010                          mov  r0,r1,#0
158e : adf0 1568                     jsr  #localpush
1590 : 00f0 7fff                     mov  r0,#$7fff
1592 : adf0 1568                     jsr  #localpush
1594 : 2e10                          stm  r14,r1,#0
1595 : aff0 15b1                     jmp  #_lprsexit
1597 :                               ._lprsstring
1597 : 10a0                          ldm  r0,r10,#esvalue1
1598 : 1100                          ldm  r1,r0,#0
1599 : 0010                          mov  r0,r1,#0
159a : adf0 0034                     jsr  #oswordlength
159c : 0201                          mov  r2,r0,#1
159d : 0301                          mov  r3,r0,#1
159e :                               ._lprssavestring
159e : 1010                          ldm  r0,r1,#0
159f : adf0 1568                     jsr  #localpush
15a1 : 31e1                          inc  r1
15a2 : 53e1                          dec  r3
15a3 : b3e0                          skz  r3
15a4 : aff0 159e                     jmp  #_lprssavestring
15a6 : 0020                          mov  r0,r2,#0
15a7 : adf0 1568                     jsr  #localpush
15a9 : 10a0                          ldm  r0,r10,#esvalue1
15aa : adf0 1568                     jsr  #localpush
15ac : 01f0 15b4                     mov  r1,#_lprsnullstring
15ae : 2100                          stm  r1,r0,#0
15af : 10f0 407b                     ldm  r0,#localstackptr
15b1 :                               ._lprsexit
15b1 : 1dc0 3ce1                     pop  link
15b3 : afd0                          ret
15b4 :                               ._lprsnullstring
15b4 : 0000                          word  0
15b5 :                               .localrestoreframe
15b5 : 18f0 407b                     ldm  r8,#localstackptr
15b7 :                               ._lrfloop
15b7 : 1080                          ldm  r0,r8,#0
15b8 : 38e1                          inc  r8
15b9 : 28f0 407b                     stm  r8,#localstackptr
15bb : c0e0                          sknz  r0
15bc : afd0                          ret
15bd : 70f0 7fff                     xor  r0,#$7fff
15bf : b0e0                          skz  r0
15c0 : aff0 15c8                     jmp  #_lrftrystring
15c2 : 1180                          ldm  r1,r8,#0
15c3 : 1081                          ldm  r0,r8,#1
15c4 : 2010                          stm  r0,r1,#0
15c5 : 38e2                          add  r8,#2
15c6 : aff0 15b7                     jmp  #_lrfloop
15c8 :                               ._lrftrystring
15c8 : 58e1                          dec  r8
15c9 : 1380                          ldm  r3,r8,#0
15ca : 1330                          ldm  r3,r3,#0
15cb : 1181                          ldm  r1,r8,#1
15cc : 0280                          mov  r2,r8,#0
15cd : 3211                          add  r2,r1,#1
15ce : 3812                          add  r8,r1,#2
15cf :                               ._lrfscopy
15cf : 1020                          ldm  r0,r2,#0
15d0 : 2030                          stm  r0,r3,#0
15d1 : 52e1                          dec  r2
15d2 : 33e1                          inc  r3
15d3 : 51e1                          dec  r1
15d4 : b1e0                          skz  r1
15d5 : aff0 15cf                     jmp  #_lrfscopy
15d7 : aff0 15b7                     jmp  #_lrfloop
15d9 : 0000                          break
15da :                               .listprintcharacter
15da : 60f0 007f                     and  r0,#$007f
15dc : c0e0                          sknz  r0
15dd : afd0                          ret
15de : 5ce3 26c0 27c1 2dc2           push  r6,r7,link
15e2 : 0600                          mov  r6,r0,#0
15e3 : adf0 1c3d                     jsr  #getcharactertype
15e5 : 0700                          mov  r7,r0,#0
15e6 : b9e0                          skz  r9
15e7 : aff0 15f2                     jmp  #_lpcprint
15e9 : c7e0                          sknz  r7
15ea : aff0 15f2                     jmp  #_lpcprint
15ec : c8e0                          sknz  r8
15ed : aff0 15f2                     jmp  #_lpcprint
15ef : 00f0 0020                     mov  r0,#' '
15f1 : ade4                          jsr  #osprintcharacter
15f2 :                               ._lpcprint
15f2 : 0870                          mov  r8,r7,#0
15f3 : 39e1                          inc  r9
15f4 : 0060                          mov  r0,r6,#0
15f5 : ade4                          jsr  #osprintcharacter
15f6 : 16c0 17c1 1dc2 3ce3           pop  r6,r7,link
15fa : afd0                          ret
15fb :                               .listprintstring
15fb : 5ce3 21c0 22c1 2dc2           push  r1,r2,link
15ff : 0101                          mov  r1,r0,#1
1600 : adf0 0034                     jsr  #oswordlength
1602 : 0200                          mov  r2,r0,#0
1603 :                               ._lpsloop
1603 : c2e0                          sknz  r2
1604 : aff0 1611                     jmp  #_lpsexit
1606 : 1010                          ldm  r0,r1,#0
1607 : adf0 15da                     jsr  #listprintcharacter
1609 : 1010                          ldm  r0,r1,#0
160a : 90e8                          ror  r0,#8
160b : adf0 15da                     jsr  #listprintcharacter
160d : 31e1                          inc  r1
160e : 52e1                          dec  r2
160f : aff0 1603                     jmp  #_lpsloop
1611 :                               ._lpsexit
1611 : 0010                          mov  r0,r1,#0
1612 : 11c0 12c1 1dc2 3ce3           pop  r1,r2,link
1616 : afd0                          ret
1617 :                               .listprintencodedidentifier
1617 : 5ce2 21c0 2dc1                push  r1,link
161a :                               ._lpeiloop
161a : 1100                          ldm  r1,r0,#0
161b : adf0 1637                     jsr  #_lpeiprintidentifier
161d : 1100                          ldm  r1,r0,#0
161e : 30e1                          inc  r0
161f : 91ee                          ror  r1,#14
1620 : e1e0                          skm  r1
1621 : aff0 161a                     jmp  #_lpeiloop
1623 : 5ce1 20c0                     push  r0
1625 : 3110                          add  r1,r1,#0
1626 : 00f0 0024                     mov  r0,#'$'
1628 : d1e0                          skp  r1
1629 : adf0 15da                     jsr  #listprintcharacter
162b : 3110                          add  r1,r1,#0
162c : 00f0 0028                     mov  r0,#'('
162e : d1e0                          skp  r1
162f : adf0 15da                     jsr  #listprintcharacter
1631 : 10c0 3ce1                     pop  r0
1633 : 11c0 1dc1 3ce2                pop  r1,link
1636 : afd0                          ret
1637 :                               ._lpeiprintidentifier
1637 : 5ce2 20c0 2dc1                push  r0,link
163a : 61f0 07ff                     and  r1,#$07ff
163c : 7000                          clr  r0
163d :                               ._lpeidivide
163d : 51f0 0028                     sub  r1,#40
163f : 30e1                          inc  r0
1640 : e1e0                          skm  r1
1641 : aff0 163d                     jmp  #_lpeidivide
1643 : 50e1                          dec  r0
1644 : 31f0 0028                     add  r1,#40
1646 : b1e0                          skz  r1
1647 : adf0 1651                     jsr  #_lpeiprintr1
1649 : 0100                          mov  r1,r0,#0
164a : b1e0                          skz  r1
164b : adf0 1651                     jsr  #_lpeiprintr1
164d : 10c0 1dc1 3ce2                pop  r0,link
1650 : afd0                          ret
1651 :                               ._lpeiprintr1
1651 : 5ce2 20c0 2dc1                push r0,link
1654 : 0010                          mov  r0,r1,#0
1655 : 30f0 0060                     add  r0,#96
1657 : 51f0 001b                     sub  r1,#27
1659 : ffe1                          skge
165a : aff0 1662                     jmp  #_lpeiprint
165c : 30f0 ffb5                     add  r0,#48-26-97
165e : 51ea                          sub  r1,#10
165f : ffe0                          sklt
1660 : 00f0 002e                     mov  r0,#'.'
1662 :                               ._lpeiprint
1662 : adf0 15da                     jsr  #listprintcharacter
1664 : 10c0 1dc1 3ce2                pop  r0,link
1667 : afd0                          ret
1668 :                               .listprintpunctuation
1668 : 5ce3 20c0 21c1 2dc2           push  r0,r1,link
166c : 0100                          mov  r1,r0,#0
166d : 00f0 0012                     mov  r0,#theme_punc+$10
166f : ade4                          jsr  #osprintcharacter
1670 : 1010                          ldm  r0,r1,#0
1671 : adf0 15da                     jsr  #listprintcharacter
1673 : 1010                          ldm  r0,r1,#0
1674 : 90e8                          ror  r0,#8
1675 : adf0 15da                     jsr  #listprintcharacter
1677 : 10c0 11c1 1dc2 3ce3           pop  r0,r1,link
167b : afd0                          ret
167c :                               .command_stop
167c : aff0 215c                     jmp  #stoperror
167e :                               .command_end
167e : aff0 1027                     jmp  #warmstart
1680 :                               .commandassert
1680 : 5ce1 2dc0                     push  link
1682 : adf0 19da                     jsr  #evaluateinteger
1684 : c0e0                          sknz  r0
1685 : aff0 204d                     jmp  #asserterror
1687 : 1dc0 3ce1                     pop  link
1689 : afd0                          ret
168a :                               .commandpoke
168a : 5ce1 2dc0                     push  link
168c : adf0 19da                     jsr  #evaluateinteger
168e : 0100                          mov  r1,r0,#0
168f : adf0 1c31                     jsr  #checkcomma
1691 : adf0 19da                     jsr  #evaluateinteger
1693 : 2010                          stm  r0,r1,#0
1694 : 1dc0 3ce1                     pop  link
1696 : afd0                          ret
1697 :                               .commandsys
1697 : 5ce1 2dc0                     push  link
1699 : adf0 19da                     jsr  #evaluateinteger
169b : 0100                          mov  r1,r0,#0
169c : 00f0 40e0                     mov  r0,#fixedvariables
169e : ad10                          brl  link,r1,#0
169f : 1dc0 3ce1                     pop  link
16a1 : afd0                          ret
16a2 :                               .commentcommand1
16a2 :                               .commentcommand2
16a2 : 10b0                          ldm  r0,r11,#0
16a3 : 0100                          mov  r1,r0,#0
16a4 : 61f0 00ff                     and  r1,#$00ff
16a6 : 60f0 ff00                     and  r0,#$ff00
16a8 : 70f0 0100                     xor  r0,#$0100
16aa : c0e0                          sknz  r0
16ab : 3b10                          add  r11,r1,#0
16ac : afd0                          ret
16ad :                               .colonhandler
16ad : afd0                          ret
16ae :                               .renumberprogram
16ae : 01f0 03e8                     mov  r1,#1000
16b0 : 10f0 406f                     ldm  r0,#programcode
16b2 :                               ._rploop
16b2 : 1200                          ldm  r2,r0,#0
16b3 : c2e0                          sknz  r2
16b4 : afd0                          ret
16b5 : 2101                          stm  r1,r0,#1
16b6 : 31ea                          add  r1,#10
16b7 : 3020                          add  r0,r2,#0
16b8 : aff0 16b2                     jmp  #_rploop
16ba :                               .dummy1
16ba :                               .dummy2
16ba :                               .dummy3
16ba :                               .dummy4
16ba :                               .dummy5
16ba :                               .dummy6
16ba :                               .dummy7
16ba :                               .dummy8
16ba :                               .dummy9
16ba :                               .dummy10
16ba :                               .dummy11
16ba :                               .dummy12
16ba :                               .dummy13
16ba :                               .dummy14
16ba :                               .dummy15
16ba :                               .dummy16
16ba :                               .dummy17
16ba :                               .dummy18
16ba :                               .dummy19
16ba :                               .dummy20
16ba :                               .dummy21
16ba :                               .dummy22
16ba :                               .dummy23
16ba :                               .dummy24
16ba :                               .dummy25
16ba :                               .dummy26
16ba :                               .dummy27
16ba :                               .dummy28
16ba :                               .dummy29
16ba : aff0 2047                     jmp  #syntaxerror
16bc :                               .command_new
16bc : 10f0 406f                     ldm  r0,#programcode
16be : 2e00                          stm  r14,r0,#0
16bf : adf0 1168                     jsr  #command_clear
16c1 : aff0 1027                     jmp  #warmstart
16c3 :                               .command_old
16c3 : 10f0 406f                     ldm  r0,#programcode
16c5 : 0200                          mov  r2,r0,#0
16c6 : 30e1                          inc  r0
16c7 :                               ._conext
16c7 : 30e1                          inc  r0
16c8 :                               ._conext2
16c8 : 1100                          ldm  r1,r0,#0
16c9 : c1e0                          sknz  r1
16ca : aff0 16d9                     jmp  #_cofoundend
16cc : 61f0 ff00                     and  r1,#$ff00
16ce : 71f0 0100                     xor  r1,#$0100
16d0 : b1e0                          skz  r1
16d1 : aff0 16c7                     jmp  #_conext
16d3 : 1100                          ldm  r1,r0,#0
16d4 : 61f0 00ff                     and  r1,#$00ff
16d6 : 3010                          add  r0,r1,#0
16d7 : aff0 16c8                     jmp  #_conext2
16d9 :                               ._cofoundend
16d9 : 5020                          sub  r0,r2,#0
16da : 30e1                          inc  r0
16db : 2020                          stm  r0,r2,#0
16dc : adf0 1168                     jsr  #command_clear
16de : aff0 1027                     jmp  #warmstart
16e0 :                               .command_print
16e0 :                               .command_print2
16e0 : 5ce1 2dc0                     push  link
16e2 :                               ._cprloop
16e2 : 10b0                          ldm  r0,r11,#0
16e3 : c0e0                          sknz r0
16e4 : aff0 1722                     jmp  #_cprexitcr
16e6 : 70f0 3c5d                     xor  r0,#tok_colon
16e8 : c0e0                          sknz  r0
16e9 : aff0 1722                     jmp  #_cprexitcr
16eb : 3be1                          inc  r11
16ec : 70f0 0e13                     xor  r0,#tok_semicolon^tok_colon
16ee : c0e0                          sknz  r0
16ef : aff0 1717                     jmp  #_cprsemicolon
16f1 : 70e3                          xor  r0,#tok_semicolon^tok_comma
16f2 : c0e0                          sknz  r0
16f3 : aff0 1715                     jmp  #_cprtab
16f5 : 70f0 0e11                     xor  r0,#tok_comma^tok_quote
16f7 : c0e0                          sknz  r0
16f8 : aff0 1711                     jmp  #_cprnewline
16fa : 5be1                          dec  r11
16fb : adf0 192a                     jsr  #evaluateexpression
16fd : 10a0                          ldm  r0,r10,#esvalue1
16fe : 12a2                          ldm  r2,r10,#esreference1
16ff : b2e0                          skz  r2
1700 : 1000                          ldm  r0,r0,#0
1701 : 12a1                          ldm  r2,r10,#estype1
1702 : b2e0                          skz  r2
1703 : aff0 170e                     jmp  #_cprprintstr
1705 : 0200                          mov  r2,r0,#0
1706 : 00f0 0020                     mov  r0,#' '
1708 : ade4                          jsr  #osprintcharacter
1709 : 0020                          mov  r0,r2,#0
170a : 01f0 800a                     mov  r1,#$800a
170c : adf0 002e                     jsr  #osinttostr
170e :                               ._cprprintstr
170e : ade8                          jsr  #osprintstring
170f : aff0 16e2                     jmp  #_cprloop
1711 :                               ._cprnewline
1711 : 00ed                          mov  r0,#13
1712 : ade4                          jsr  #osprintcharacter
1713 : aff0 16e2                     jmp  #_cprloop
1715 :                               ._cprtab
1715 : 00e9                          mov  r0,#9
1716 : ade4                          jsr  #osprintcharacter
1717 :                               ._cprsemicolon
1717 : 10b0                          ldm  r0,r11,#0
1718 : c0e0                          sknz r0
1719 : aff0 1724                     jmp  #_cprexit
171b : 70f0 3c5d                     xor  r0,#tok_colon
171d : c0e0                          sknz  r0
171e : aff0 1724                     jmp  #_cprexit
1720 : aff0 16e2                     jmp  #_cprloop
1722 :                               ._cprexitcr
1722 : 00ed                          mov  r0,#13
1723 : ade4                          jsr  #osprintcharacter
1724 :                               ._cprexit
1724 : 1dc0 3ce1                     pop  link
1726 : afd0                          ret
1727 :                               .command_repeat
1727 : 5ce1 2dc0                     push  link
1729 : adf0 1d3d                     jsr  #stackpushposition
172b : adf0 1d4e                     jsr  #stackpushmarker
172d : 0072                          word  'r'
172e : 1dc0 3ce1                     pop  link
1730 : afd0                          ret
1731 :                               .command_until
1731 : 5ce1 2dc0                     push  link
1733 : adf0 1d5d                     jsr  #stackcheckmarker
1735 : 0072                          word  'r'
1736 : aff0 20f6                     jmp  #untilerror
1738 : adf0 19da                     jsr  #evaluateinteger
173a : b0e0                          skz  r0
173b : aff0 1742                     jmp  #_crpassed
173d : adf0 1d47                     jsr  #stackpopposition
173f : 1dc0 3ce1                     pop  link
1741 : afd0                          ret
1742 :                               ._crpassed
1742 : 00e3                          mov  r0,#1+stackpossize
1743 : adf0 1d66                     jsr  #stackpopwords
1745 : 1dc0 3ce1                     pop  link
1747 : afd0                          ret
1748 :                               .runprogram
1748 : 10b0                          ldm  r0,r11,#0
1749 : c0e0                          sknz  r0
174a : aff0 1751                     jmp  #runprogramnoload
174c : 70f0 3c5d                     xor  r0,#tok_colon
174e : b0e0                          skz  r0
174f : adf0 11ed                     jsr  #fileloader
1751 :                               .runprogramnoload
1751 : adf0 1168                     jsr  #command_clear
1753 : 1bf0 406f                     ldm  r11,#programcode
1755 : 10b0                          ldm  r0,r11,#0
1756 : c0e0                          sknz  r0
1757 : aff0 1027                     jmp  #warmstart
1759 :                               .runprogramr11
1759 : 1cf0 4077                     ldm  sp,#initialsp
175b : 0af0 4080                     mov  r10,#evalstack
175d : 00f0 0017                     mov  r0,#$17
175f : ade4                          jsr  #osprintcharacter
1760 :                               ._rpnewline
1760 : 2bf0 4078                     stm  r11,#currentline
1762 : 3be2                          add  r11,#2
1763 :                               ._rpnewcommand
1763 : adf0 0036                     jsr  #ossystemmanager
1765 : b0e0                          skz  r0
1766 : aff0 216e                     jmp  #breakerror
1768 :                               ._rpnocheck
1768 : 2ef0 407a                     stm  r14,#tempstringalloc
176a : 10b0                          ldm  r0,r11,#0
176b : 0100                          mov  r1,r0,#0
176c : 3be1                          inc  r11
176d : 60f0 f800                     and  r0,#$f800
176f : 70f0 3800                     xor  r0,#$3800
1771 : b0e0                          skz  r0
1772 : aff0 177c                     jmp  #_rpnotcommandtoken
1774 : 61f0 01ff                     and  r1,#$01ff
1776 : 31f0 231a                     add  r1,#tokenvectors
1778 : 1010                          ldm  r0,r1,#0
1779 : ad00                          brl  link,r0,#0
177a : aff0 1763                     jmp  #_rpnewcommand
177c :                               ._rpnotcommandtoken
177c : c1e0                          sknz  r1
177d : aff0 179e                     jmp  #_rpnextline
177f : 5be1                          dec  r11
1780 : 10b0                          ldm  r0,r11,#0
1781 : 70f0 2a28                     xor  r0,#tok_pling
1783 : c0e0                          sknz  r0
1784 : aff0 178e                     jmp  #_rpdolet
1786 : 10b0                          ldm  r0,r11,#0
1787 : 60f0 c000                     and  r0,#$c000
1789 : 70f0 4000                     xor  r0,#$4000
178b : b0e0                          skz  r0
178c : aff0 1792                     jmp  #_rpcheckasm
178e :                               ._rpdolet
178e : adf0 141d                     jsr  #command_let
1790 : aff0 1763                     jmp  #_rpnewcommand
1792 :                               ._rpcheckasm
1792 : 10b0                          ldm  r0,r11,#0
1793 : 60f0 21f0                     and  r0,#$21f0
1795 : 70f0 2000                     xor  r0,#$2000
1797 : b0e0                          skz  r0
1798 : aff0 2047                     jmp  #syntaxerror
179a : adf0 1097                     jsr  #assembleinstruction
179c : aff0 1763                     jmp  #_rpnewcommand
179e :                               ._rpnextline
179e : 1bf0 4078                     ldm  r11,#currentline
17a0 : 10b0                          ldm  r0,r11,#0
17a1 : 3b00                          add  r11,r0,#0
17a2 : 10b0                          ldm  r0,r11,#0
17a3 : c0e0                          sknz  r0
17a4 : aff0 1027                     jmp  #warmstart
17a6 : aff0 1760                     jmp  #_rpnewline
17a8 :                               .command_goto
17a8 : 5ce1 2dc0                     push  link
17aa : adf0 19da                     jsr  #evaluateinteger
17ac :                               ._cgmain
17ac : 1bf0 406f                     ldm  r11,#programcode
17ae :                               ._cgsearch
17ae : 11b0                          ldm  r1,r11,#0
17af : c1e0                          sknz  r1
17b0 : aff0 2149                     jmp  #lineerror
17b2 : 14b1                          ldm  r4,r11,#1
17b3 : 7400                          xor  r4,r0,#0
17b4 : c4e0                          sknz  r4
17b5 : aff0 17ba                     jmp  #_cgfound
17b7 : 3b10                          add  r11,r1,#0
17b8 : aff0 17ae                     jmp  #_cgsearch
17ba :                               ._cgfound
17ba : 2bf0 4078                     stm  r11,#currentline
17bc : 3be2                          add  r11,#2
17bd : 1dc0 3ce1                     pop  link
17bf : afd0                          ret
17c0 :                               .command_gosub
17c0 : 5ce1 2dc0                     push  link
17c2 : adf0 19da                     jsr  #evaluateinteger
17c4 : 5ce1 20c0                     push  r0
17c6 : adf0 1d3d                     jsr  #stackpushposition
17c8 : adf0 1d4e                     jsr  #stackpushmarker
17ca : 0073                          word  's'
17cb : 10c0 3ce1                     pop  r0
17cd : aff0 17ac                     jmp  #_cgmain
17cf :                               .command_return
17cf : 5ce1 2dc0                     push  link
17d1 : adf0 1d5d                     jsr  #stackcheckmarker
17d3 : 0073                          word  's'
17d4 : aff0 20e9                     jmp  #returnerror
17d6 : adf0 1d47                     jsr  #stackpopposition
17d8 : 00e3                          mov  r0,#1+stackpossize
17d9 : adf0 1d66                     jsr  #stackpopwords
17db : 1dc0 3ce1                     pop  link
17dd : afd0                          ret
17de :                               .command_while
17de : 5ce1 2dc0                     push  link
17e0 : 5be1                          dec  r11
17e1 : adf0 1d3d                     jsr  #stackpushposition
17e3 : adf0 1d4e                     jsr  #stackpushmarker
17e5 : 0077                          word  'w'
17e6 : 3be1                          inc  r11
17e7 : adf0 19da                     jsr  #evaluateinteger
17e9 : b0e0                          skz  r0
17ea : aff0 17f4                     jmp  #_cwexit
17ec : 00e3                          mov  r0,#1+stackpossize
17ed : adf0 1d66                     jsr  #stackpopwords
17ef : 00f0 3a5a                     mov  r0,#tok_wend
17f1 : 0100                          mov  r1,r0,#0
17f2 : adf0 1cf9                     jsr  #skipstructure
17f4 :                               ._cwexit
17f4 : 1dc0 3ce1                     pop  link
17f6 : afd0                          ret
17f7 :                               .command_wend
17f7 : 5ce1 2dc0                     push  link
17f9 : adf0 1d5d                     jsr  #stackcheckmarker
17fb : 0077                          word  'w'
17fc : aff0 2103                     jmp  #wenderror
17fe : adf0 1d47                     jsr  #stackpopposition
1800 : 00e3                          mov  r0,#1+stackpossize
1801 : adf0 1d66                     jsr  #stackpopwords
1803 : 1dc0 3ce1                     pop  link
1805 : afd0                          ret
1806 :                               .binaryop_add
1806 : 5ce1 2dc0                     push  link
1808 : adf0 1890                     jsr  #multitypedispatch
180a : aff0 19f1                     jmp  #stringconcat
180c : adf0 187c                     jsr  #checkintdereference
180e : 10a0                          ldm  r0,r10,#esvalue1
180f : 11a3                          ldm  r1,r10,#esvalue2
1810 : 3010                          add  r0,r1,#0
1811 : 20a0                          stm  r0,r10,#esvalue1
1812 : 1dc0 3ce1                     pop  link
1814 : afd0                          ret
1815 :                               .binaryop_sub
1815 : 5ce1 2dc0                     push  link
1817 : adf0 187c                     jsr  #checkintdereference
1819 : 10a0                          ldm  r0,r10,#esvalue1
181a : 11a3                          ldm  r1,r10,#esvalue2
181b : 5010                          sub  r0,r1,#0
181c : 20a0                          stm  r0,r10,#esvalue1
181d : 1dc0 3ce1                     pop  link
181f : afd0                          ret
1820 :                               .binaryop_mult
1820 : 5ce1 2dc0                     push  link
1822 : adf0 187c                     jsr  #checkintdereference
1824 : 10a0                          ldm  r0,r10,#esvalue1
1825 : 11a3                          ldm  r1,r10,#esvalue2
1826 : 8010                          mult  r0,r1,#0
1827 : 20a0                          stm  r0,r10,#esvalue1
1828 : 1dc0 3ce1                     pop  link
182a : afd0                          ret
182b :                               .binaryop_divide
182b : 5ce1 2dc0                     push  link
182d : adf0 187c                     jsr  #checkintdereference
182f : 10a0                          ldm  r0,r10,#esvalue1
1830 : 11a3                          ldm  r1,r10,#esvalue2
1831 : c1e0                          sknz  r1
1832 : aff0 2073                     jmp  #dividezeroerror
1834 : adf0 0028                     jsr  #ossdivide16
1836 : 20a0                          stm  r0,r10,#esvalue1
1837 : 1dc0 3ce1                     pop  link
1839 : afd0                          ret
183a :                               .binaryop_mod
183a : 5ce1 2dc0                     push  link
183c : adf0 187c                     jsr  #checkintdereference
183e : 10a0                          ldm  r0,r10,#esvalue1
183f : 11a3                          ldm  r1,r10,#esvalue2
1840 : c1e0                          sknz  r1
1841 : aff0 2073                     jmp  #dividezeroerror
1843 : adf0 0028                     jsr  #ossdivide16
1845 : 21a0                          stm  r1,r10,#esvalue1
1846 : 1dc0 3ce1                     pop  link
1848 : afd0                          ret
1849 :                               .binaryop_and
1849 : 5ce1 2dc0                     push  link
184b : adf0 187c                     jsr  #checkintdereference
184d : 10a0                          ldm  r0,r10,#esvalue1
184e : 11a3                          ldm  r1,r10,#esvalue2
184f : 6010                          and  r0,r1,#0
1850 : 20a0                          stm  r0,r10,#esvalue1
1851 : 1dc0 3ce1                     pop  link
1853 : afd0                          ret
1854 :                               .binaryop_or
1854 : 5ce1 2dc0                     push  link
1856 : adf0 187c                     jsr  #checkintdereference
1858 : 10a0                          ldm  r0,r10,#esvalue1
1859 : 70f0 ffff                     xor  r0,#$ffff
185b : 11a3                          ldm  r1,r10,#esvalue2
185c : 71f0 ffff                     xor  r1,#$ffff
185e : 6010                          and  r0,r1,#0
185f : 70f0 ffff                     xor  r0,#$ffff
1861 : 20a0                          stm  r0,r10,#esvalue1
1862 : 1dc0 3ce1                     pop  link
1864 : afd0                          ret
1865 :                               .binaryop_xor
1865 : 5ce1 2dc0                     push  link
1867 : adf0 187c                     jsr  #checkintdereference
1869 : 10a0                          ldm  r0,r10,#esvalue1
186a : 11a3                          ldm  r1,r10,#esvalue2
186b : 7010                          xor  r0,r1,#0
186c : 20a0                          stm  r0,r10,#esvalue1
186d : 1dc0 3ce1                     pop  link
186f : afd0                          ret
1870 :                               .binaryop_indirect
1870 : 5ce1 2dc0                     push  link
1872 : adf0 187c                     jsr  #checkintdereference
1874 : 10a0                          ldm  r0,r10,#esvalue1
1875 : 11a3                          ldm  r1,r10,#esvalue2
1876 : 3010                          add  r0,r1,#0
1877 : 20a0                          stm  r0,r10,#esvalue1
1878 : 2fa2                          stm  r15,r10,#esreference1
1879 : 1dc0 3ce1                     pop  link
187b : afd0                          ret
187c :                               .checkintdereference
187c : 10a1                          ldm  r0,r10,#estype1
187d : 11a4                          ldm  r1,r10,#estype2
187e : 3010                          add  r0,r1,#0
187f : b0e0                          skz  r0
1880 : aff0 206b                     jmp  #typemismatcherror
1882 :                               .dereferencebinary
1882 : 10a5                          ldm  r0,r10,#esreference2
1883 : 11a3                          ldm  r1,r10,#esvalue2
1884 : b0e0                          skz  r0
1885 : 1110                          ldm  r1,r1,#0
1886 : 21a3                          stm  r1,r10,#esvalue2
1887 : 2ea5                          stm  r14,r10,#esreference2
1888 :                               .dereferenceunary
1888 : 10a2                          ldm  r0,r10,#esreference1
1889 : c0e0                          sknz  r0
188a : afd0                          ret
188b : 10a0                          ldm  r0,r10,#esvalue1
188c : 1000                          ldm  r0,r0,#0
188d : 20a0                          stm  r0,r10,#esvalue1
188e : 2ea2                          stm  r14,r10,#esreference1
188f : afd0                          ret
1890 :                               .multitypedispatch
1890 : 10a1                          ldm  r0,r10,#estype1
1891 : 11a4                          ldm  r1,r10,#estype2
1892 : 3010                          add  r0,r1,#0
1893 : 3de2                          add  link,#2
1894 : c0e0                          sknz  r0
1895 : afd0                          ret
1896 : 5ce1 2dc0                     push  link
1898 : c1e0                          sknz  r1
1899 : aff0 206b                     jmp  #typemismatcherror
189b : 10a1                          ldm  r0,r10,#estype1
189c : c0e0                          sknz  r0
189d : aff0 206b                     jmp  #typemismatcherror
189f : 1dc0 3ce1                     pop  link
18a1 : 5de2                          sub  link,#2
18a2 : afd0                          ret
18a3 :                               .binaryop_notequal
18a3 : 5ce1 2dc0                     push  link
18a5 : adf0 1890                     jsr  #multitypedispatch
18a7 : aff0 18b5                     jmp  #_bnestring
18a9 : adf0 187c                     jsr  #checkintdereference
18ab : 10a0                          ldm  r0,r10,#esvalue1
18ac : 11a3                          ldm  r1,r10,#esvalue2
18ad : 7010                          xor  r0,r1,#0
18ae :                               ._bnereturn
18ae : b0e0                          skz  r0
18af : 00f0 ffff                     mov  r0,#-1
18b1 : 20a0                          stm  r0,r10,#esvalue1
18b2 : 1dc0 3ce1                     pop  link
18b4 : afd0                          ret
18b5 :                               ._bnestring
18b5 : adf0 190c                     jsr  #comparestrings
18b7 : aff0 18ae                     jmp  #_bnereturn
18b9 :                               .binaryop_greaterequal
18b9 : 5ce1 2dc0                     push  link
18bb : adf0 1890                     jsr  #multitypedispatch
18bd : aff0 18d0                     jmp  #_bgestring
18bf : adf0 187c                     jsr  #checkintdereference
18c1 : 10a0                          ldm  r0,r10,#esvalue1
18c2 : 11a3                          ldm  r1,r10,#esvalue2
18c3 :                               .binarycompare
18c3 : 30f0 8000                     add  r0,#$8000
18c5 : 31f0 8000                     add  r1,#$8000
18c7 : 5010                          sub  r0,r1,#0
18c8 : 7000                          clr  r0
18c9 : ffe0                          sklt
18ca : 00f0 ffff                     mov  r0,#-1
18cc : 20a0                          stm  r0,r10,#esvalue1
18cd : 1dc0 3ce1                     pop  link
18cf : afd0                          ret
18d0 :                               ._bgestring
18d0 : adf0 190c                     jsr  #comparestrings
18d2 : e0e0                          skm  r0
18d3 : aff0 18d9                     jmp  #_bgereturntrue
18d5 :                               ._bgereturnfalse
18d5 : 2ea0                          stm  r14,r10,#esvalue1
18d6 : 1dc0 3ce1                     pop  link
18d8 : afd0                          ret
18d9 :                               ._bgereturntrue
18d9 : 00f0 ffff                     mov  r0,#-1
18db : 20a0                          stm  r0,r10,#esvalue1
18dc : 1dc0 3ce1                     pop  link
18de : afd0                          ret
18df :                               .binaryop_lessequal
18df : 5ce1 2dc0                     push  link
18e1 : adf0 1890                     jsr  #multitypedispatch
18e3 : aff0 18eb                     jmp  #_blestring
18e5 : adf0 187c                     jsr  #checkintdereference
18e7 : 11a0                          ldm  r1,r10,#esvalue1
18e8 : 10a3                          ldm  r0,r10,#esvalue2
18e9 : aff0 18c3                     jmp  #binarycompare
18eb :                               ._blestring
18eb : adf0 190c                     jsr  #comparestrings
18ed : c0e0                          sknz  r0
18ee : aff0 18d9                     jmp  #_bgereturntrue
18f0 : d0e0                          skp  r0
18f1 : aff0 18d9                     jmp  #_bgereturntrue
18f3 : aff0 18d5                     jmp  #_bgereturnfalse
18f5 :                               .binaryop_equal
18f5 : 5ce1 2dc0                     push  link
18f7 : adf0 18a3                     jsr  #binaryop_notequal
18f9 :                               .reverseresult
18f9 : 10a0                          ldm  r0,r10,#esvalue1
18fa : 70f0 ffff                     xor  r0,#$ffff
18fc : 20a0                          stm  r0,r10,#esvalue1
18fd : 1dc0 3ce1                     pop  link
18ff : afd0                          ret
1900 :                               .binaryop_greater
1900 : 5ce1 2dc0                     push  link
1902 : adf0 18df                     jsr  #binaryop_lessequal
1904 : aff0 18f9                     jmp  #reverseresult
1906 :                               .binaryop_less
1906 : 5ce1 2dc0                     push  link
1908 : adf0 18b9                     jsr  #binaryop_greaterequal
190a : aff0 18f9                     jmp  #reverseresult
190c :                               .comparestrings
190c : 2ea1                          stm  r14,r10,#estype1
190d : 11a0                          ldm  r1,r10,#esvalue1
190e : 12a3                          ldm  r2,r10,#esvalue2
190f : 1310                          ldm  r3,r1,#0
1910 : 1420                          ldm  r4,r2,#0
1911 : 0530                          mov  r5,r3,#0
1912 : 5540                          sub  r5,r4,#0
1913 : e5e0                          skm  r5
1914 : 0340                          mov  r3,r4,#0
1915 : 33e1                          inc  r3
1916 : 93e1                          ror  r3,#1
1917 : 63f0 7fff                     and  r3,#$7fff
1919 :                               ._cslloop
1919 : c3e0                          sknz  r3
191a : aff0 1928                     jmp  #_cslstartmatch
191c : 53e1                          dec  r3
191d : 31e1                          inc  r1
191e : 32e1                          inc  r2
191f : 1010                          ldm  r0,r1,#0
1920 : 1420                          ldm  r4,r2,#0
1921 : 90e8                          ror  r0,#8
1922 : 94e8                          ror  r4,#8
1923 : 5040                          sub  r0,r4,#0
1924 : c0e0                          sknz  r0
1925 : aff0 1919                     jmp  #_cslloop
1927 : afd0                          ret
1928 :                               ._cslstartmatch
1928 : 0050                          mov  r0,r5,#0
1929 : afd0                          ret
192a :                               .evaluateexpression
192a : 5ce2 29c0 2dc1                push  r9,link
192d : 7990                          clr  r9
192e : adf0 1934                     jsr  #evaluator
1930 : 19c0 1dc1 3ce2                pop  r9,link
1933 : afd0                          ret
1934 :                               .evaluator
1934 : 5ce8 20c0 21c1 22c2 23c3      push  r0,r1,r2,r3,r4,r5,r6,link
193d : 10b0                          ldm  r0,r11,#0
193e : e0e0                          skm  r0
193f : aff0 1949                     jmp  #_evnotconstant
1941 : 60f0 7fff                     and  r0,#$7fff
1943 : 20a0                          stm  r0,r10,#esvalue1
1944 : 2ea1                          stm  r14,r10,#estype1
1945 : 2ea2                          stm  r14,r10,#esreference1
1946 : 3be1                          inc  r11
1947 : aff0 195c                     jmp  #_evhaveterm
1949 :                               ._evnotconstant
1949 : c0e0                          sknz  r0
194a : aff0 2047                     jmp  #syntaxerror
194c : 3000                          add  r0,r0,#0
194d : d0e0                          skp  r0
194e : aff0 1989                     jmp  #_evvariable
1950 : 3000                          add  r0,r0,#0
1951 : d0e0                          skp  r0
1952 : aff0 198d                     jmp  #_evunaryfunction
1954 : 00b1                          mov  r0,r11,#1
1955 : 20a0                          stm  r0,r10,#esvalue1
1956 : 2fa1                          stm  r15,r10,#estype1
1957 : 2ea2                          stm  r14,r10,#esreference1
1958 : 10b0                          ldm  r0,r11,#0
1959 : 60f0 00ff                     and  r0,#$00ff
195b : 3b00                          add  r11,r0,#0
195c :                               ._evhaveterm
195c : 10b0                          ldm  r0,r11,#0
195d : 60f0 f000                     and  r0,#$f000
195f : 70f0 2000                     xor  r0,#$2000
1961 : b0e0                          skz  r0
1962 : aff0 197f                     jmp  #_evexit
1964 : 10b0                          ldm  r0,r11,#0
1965 : 60f0 1e00                     and  r0,#$1e00
1967 : 5090                          sub  r0,r9,#0
1968 : 50e1                          dec  r0
1969 : d0e0                          skp  r0
196a : aff0 197f                     jmp  #_evexit
196c : 11b0                          ldm  r1,r11,#0
196d : 3be1                          inc  r11
196e : 0290                          mov  r2,r9,#0
196f : 0910                          mov  r9,r1,#0
1970 : 69f0 1e00                     and  r9,#$1e00
1972 : 3ae3                          add  r10,#stackelementsize
1973 : adf0 1934                     jsr  #evaluator
1975 : 5ae3                          sub  r10,#stackelementsize
1976 : 0920                          mov  r9,r2,#0
1977 :                               ._evcallhandler
1977 : 61f0 01ff                     and  r1,#$01ff
1979 : 31f0 231a                     add  r1,#tokenvectors
197b : 1010                          ldm  r0,r1,#0
197c : ad00                          brl  link,r0,#0
197d : aff0 195c                     jmp  #_evhaveterm
197f :                               ._evexit
197f : 10c0 11c1 12c2 13c3 14c4      pop  r0,r1,r2,r3,r4,r5,r6,link
1988 : afd0                          ret
1989 :                               ._evvariable
1989 : adf0 1f7f                     jsr  #getvariablereference
198b : aff0 195c                     jmp  #_evhaveterm
198d :                               ._evunaryfunction
198d : 10b0                          ldm  r0,r11,#0
198e : 70f0 2624                     xor  r0,#tok_minus
1990 : b0e0                          skz  r0
1991 : aff0 199b                     jmp  #_evcheckpling
1993 : 3be1                          inc  r11
1994 : adf0 19b8                     jsr  #evaluateterminteger
1996 : 7110                          clr  r1
1997 : 5100                          sub  r1,r0,#0
1998 : 21a0                          stm  r1,r10,#esvalue1
1999 : aff0 195c                     jmp  #_evhaveterm
199b :                               ._evcheckpling
199b : 70f0 0c0c                     xor  r0,#tok_minus^tok_pling
199d : b0e0                          skz  r0
199e : aff0 19a6                     jmp  #_evcheckunary
19a0 : 3be1                          inc  r11
19a1 : adf0 19b8                     jsr  #evaluateterminteger
19a3 : 2fa2                          stm  r15,r10,#esreference1
19a4 : aff0 195c                     jmp  #_evhaveterm
19a6 :                               ._evcheckunary
19a6 : 10b0                          ldm  r0,r11,#0
19a7 : 60f0 1e00                     and  r0,#$1e00
19a9 : 70f0 1000                     xor  r0,#$1000
19ab : b0e0                          skz  r0
19ac : aff0 2047                     jmp  #syntaxerror
19ae : 11b0                          ldm  r1,r11,#0
19af : 3be1                          inc  r11
19b0 : aff0 1977                     jmp  #_evcallhandler
19b2 :                               .constshifthandler
19b2 : 10b0                          ldm  r0,r11,#0
19b3 : 20a0                          stm  r0,r10,#esvalue1
19b4 : 2ea1                          stm  r14,r10,#estype1
19b5 : 2ea2                          stm  r14,r10,#esreference1
19b6 : 3be1                          inc  r11
19b7 : afd0                          ret
19b8 :                               .evaluateterminteger
19b8 : 5ce3 21c0 29c1 2dc2           push  r1,r9,link
19bc : 09f0 4000                     mov  r9,#$4000
19be : adf0 1934                     jsr  #evaluator
19c0 : 11a0                          ldm  r1,r10,#esvalue1
19c1 : 19a2                          ldm  r9,r10,#esreference1
19c2 : b9e0                          skz  r9
19c3 : 1110                          ldm  r1,r1,#0
19c4 : 21a0                          stm  r1,r10,#esvalue1
19c5 : 2ea2                          stm  r14,r10,#esreference1
19c6 : 19a1                          ldm  r9,r10,#estype1
19c7 : b9e0                          skz  r9
19c8 : aff0 206b                     jmp  #typemismatcherror
19ca : 10a0                          ldm  r0,r10,#esvalue1
19cb : 11c0 19c1 1dc2 3ce3           pop  r1,r9,link
19cf : afd0                          ret
19d0 :                               .evaluatestring
19d0 : 5ce1 2dc0                     push  link
19d2 : adf0 192a                     jsr  #evaluateexpression
19d4 : 10a1                          ldm  r0,r10,#estype1
19d5 : b0e0                          skz  r0
19d6 : aff0 19e2                     jmp  #evaluatecommon
19d8 : aff0 206b                     jmp  #typemismatcherror
19da :                               .evaluateinteger
19da : 5ce1 2dc0                     push  link
19dc : adf0 192a                     jsr  #evaluateexpression
19de : 10a1                          ldm  r0,r10,#estype1
19df : b0e0                          skz  r0
19e0 : aff0 206b                     jmp  #typemismatcherror
19e2 :                               .evaluatecommon
19e2 : 10a2                          ldm  r0,r10,#esreference1
19e3 : b0e0                          skz  r0
19e4 : aff0 19ea                     jmp  #_ecreference
19e6 : 10a0                          ldm  r0,r10,#esvalue1
19e7 : 1dc0 3ce1                     pop  link
19e9 : afd0                          ret
19ea :                               ._ecreference
19ea : 10a0                          ldm  r0,r10,#esvalue1
19eb : 1000                          ldm  r0,r0,#0
19ec : 20a0                          stm  r0,r10,#esvalue1
19ed : 2ea2                          stm  r14,r10,#esreference1
19ee : 1dc0 3ce1                     pop  link
19f0 : afd0                          ret
19f1 :                               .stringconcat
19f1 : adf0 1882                     jsr  #dereferencebinary
19f3 : 10a0                          ldm   r0,r10,#esvalue1
19f4 : 1100                          ldm  r1,r0,#0
19f5 : 10a3                          ldm  r0,r10,#esvalue2
19f6 : 1000                          ldm  r0,r0,#0
19f7 : 3010                          add  r0,r1,#0
19f8 : 0100                          mov  r1,r0,#0
19f9 : 51f0 0100                     sub  r1,#maxstringsize+1
19fb : ffe0                          sklt
19fc : aff0 20ad                     jmp  #strlenerror
19fe : 90e1                          ror  r0,#1
19ff : 60f0 7fff                     and  r0,#$7fff
1a01 : 30e2                          add  r0,#2
1a02 : adf0 1a25                     jsr  #sfallocate
1a04 : 13a0                          ldm  r3,r10,#esvalue1
1a05 : 21a0                          stm  r1,r10,#esvalue1
1a06 : adf0 1a0e                     jsr  #_scoutput
1a08 : 13a3                          ldm  r3,r10,#esvalue2
1a09 : adf0 1a0e                     jsr  #_scoutput
1a0b : 1dc0 3ce1                     pop  link
1a0d : afd0                          ret
1a0e :                               ._scoutput
1a0e : 5ce1 2dc0                     push  link
1a10 : 0030                          mov  r0,r3,#0
1a11 : adf0 0034                     jsr  #oswordlength
1a13 : 0400                          mov  r4,r0,#0
1a14 :                               ._scoutloop
1a14 : 33e1                          inc  r3
1a15 : c4e0                          sknz  r4
1a16 : aff0 1a22                     jmp  #_scoutexit
1a18 : 54e1                          dec  r4
1a19 : 1030                          ldm  r0,r3,#0
1a1a : adf0 1a30                     jsr  #sfaddcharacter
1a1c : 1030                          ldm  r0,r3,#0
1a1d : 90e8                          ror  r0,#8
1a1e : adf0 1a30                     jsr  #sfaddcharacter
1a20 : aff0 1a14                     jmp  #_scoutloop
1a22 :                               ._scoutexit
1a22 : 1dc0 3ce1                     pop  link
1a24 : afd0                          ret
1a25 :                               .sfallocate
1a25 : 5ce1 2dc0                     push  link
1a27 : adf0 1d77                     jsr  #allocatetempmemory
1a29 : 0100                          mov  r1,r0,#0
1a2a : 7220                          clr  r2
1a2b : 2e10                          stm  r14,r1,#0
1a2c : 2e11                          stm  r14,r1,#1
1a2d : 1dc0 3ce1                     pop  link
1a2f : afd0                          ret
1a30 :                               .sfaddcharacter
1a30 : 60f0 00ff                     and  r0,#$00ff
1a32 : c0e0                          sknz  r0
1a33 : afd0                          ret
1a34 : 5ce2 23c0 24c1                push  r3,r4
1a37 : 0420                          mov  r4,r2,#0
1a38 : 94e1                          ror  r4,#1
1a39 : d4e0                          skp  r4
1a3a : 90e8                          ror  r0,#8
1a3b : 64f0 7fff                     and  r4,#$7fff
1a3d : 3411                          add  r4,r1,#1
1a3e : 1340                          ldm  r3,r4,#0
1a3f : 3300                          add  r3,r0,#0
1a40 : 2340                          stm  r3,r4,#0
1a41 : 2e41                          stm  r14,r4,#1
1a42 : 32e1                          inc  r2
1a43 : 2210                          stm  r2,r1,#0
1a44 : 13c0 14c1 3ce2                pop  r3,r4
1a47 : afd0                          ret
1a48 :                               .unary_mid
1a48 : 5ce1 2dc0                     push  link
1a4a : adf0 19d0                     jsr  #evaluatestring
1a4c : 0300                          mov  r3,r0,#0
1a4d : adf0 1c31                     jsr  #checkcomma
1a4f : adf0 19da                     jsr  #evaluateinteger
1a51 : 0400                          mov  r4,r0,#0
1a52 : 05f0 00ff                     mov  r5,#maxstringsize
1a54 : 10b0                          ldm  r0,r11,#0
1a55 : 70f0 324c                     xor  r0,#tok_rparen
1a57 : c0e0                          sknz r0
1a58 : aff0 1a5f                     jmp  #unarystringslicecommon
1a5a : adf0 1c31                     jsr  #checkcomma
1a5c : adf0 19da                     jsr  #evaluateinteger
1a5e : 0500                          mov  r5,r0,#0
1a5f :                               .unarystringslicecommon
1a5f : adf0 1c19                     jsr  #checkrightbracket
1a61 : 54e1                          dec  r4
1a62 : d4e0                          skp  r4
1a63 : aff0 207e                     jmp  #badnumbererror
1a65 : d5e0                          skp  r5
1a66 : aff0 207e                     jmp  #badnumbererror
1a68 : c5e0                          sknz  r5
1a69 : aff0 1a91                     jmp  #_usscnull
1a6b : 1030                          ldm  r0,r3,#0
1a6c : 0140                          mov  r1,r4,#0
1a6d : 5100                          sub  r1,r0,#0
1a6e : ffe0                          sklt
1a6f : aff0 1a91                     jmp  #_usscnull
1a71 : 0050                          mov  r0,r5,#0
1a72 : 90e1                          ror  r0,#1
1a73 : 60f0 7fff                     and  r0,#$7fff
1a75 : 30e2                          add  r0,#2
1a76 : adf0 1a25                     jsr  #sfallocate
1a78 : 20a0                          stm  r0,r10,#esvalue1
1a79 : 7660                          clr  r6
1a7a : 33e1                          inc  r3
1a7b :                               ._ussccopyloop
1a7b : 54e1                          dec  r4
1a7c : e4e0                          skm  r4
1a7d : aff0 1a8c                     jmp  #_usscnextcharacter
1a7f : 1030                          ldm  r0,r3,#0
1a80 : 9060                          ror  r0,r6,#0
1a81 : 60f0 00ff                     and  r0,#$00ff
1a83 : c0e0                          sknz  r0
1a84 : aff0 1a95                     jmp  #_usscexit
1a86 : adf0 1a30                     jsr  #sfaddcharacter
1a88 : 55e1                          dec  r5
1a89 : c5e0                          sknz  r5
1a8a : aff0 1a95                     jmp  #_usscexit
1a8c :                               ._usscnextcharacter
1a8c : 76e8                          xor  r6,#8
1a8d : c6e0                          sknz  r6
1a8e : 33e1                          inc  r3
1a8f : aff0 1a7b                     jmp  #_ussccopyloop
1a91 :                               ._usscnull
1a91 : 00e1                          mov  r0,#1
1a92 : adf0 1a25                     jsr  #sfallocate
1a94 : 20a0                          stm  r0,r10,#esvalue1
1a95 :                               ._usscexit
1a95 : 2ea2                          stm  r14,r10,#esreference1
1a96 : 2fa1                          stm  r15,r10,#estype1
1a97 : 1dc0 3ce1                     pop  link
1a99 : afd0                          ret
1a9a :                               .unary_left
1a9a : 5ce1 2dc0                     push  link
1a9c : adf0 19d0                     jsr  #evaluatestring
1a9e : 0300                          mov  r3,r0,#0
1a9f : adf0 1c31                     jsr  #checkcomma
1aa1 : 04e1                          mov  r4,#1
1aa2 : adf0 19da                     jsr  #evaluateinteger
1aa4 : 0500                          mov  r5,r0,#0
1aa5 : aff0 1a5f                     jmp  #unarystringslicecommon
1aa7 :                               .unary_right
1aa7 : 5ce1 2dc0                     push  link
1aa9 : adf0 19d0                     jsr  #evaluatestring
1aab : 0300                          mov  r3,r0,#0
1aac : 1430                          ldm  r4,r3,#0
1aad : 34e1                          inc  r4
1aae : adf0 1c31                     jsr  #checkcomma
1ab0 : adf0 19da                     jsr  #evaluateinteger
1ab2 : 5400                          sub  r4,r0,#0
1ab3 : d4e0                          skp  r4
1ab4 : 04e1                          mov  r4,#1
1ab5 : c4e0                          sknz  r4
1ab6 : 04e1                          mov  r4,#1
1ab7 : 05f0 00ff                     mov  r5,#maxstringsize
1ab9 : aff0 1a5f                     jmp  #unarystringslicecommon
1abb :                               .unary_hex
1abb :                               .unary_bin
1abb : aff0 19b8                     jmp  #evaluateterminteger
1abd :                               .unary_parenthesis
1abd : 5ce1 2dc0                     push  link
1abf : adf0 192a                     jsr  #evaluateexpression
1ac1 : adf0 1c19                     jsr  #checkrightbracket
1ac3 : 1dc0 3ce1                     pop  link
1ac5 : afd0                          ret
1ac6 :                               .unary_abs
1ac6 : 5ce1 2dc0                     push  link
1ac8 : adf0 19da                     jsr  #evaluateinteger
1aca : 7110                          clr  r1
1acb : 5100                          sub  r1,r0,#0
1acc : d0e0                          skp  r0
1acd : 0010                          mov  r0,r1,#0
1ace : 20a0                          stm  r0,r10,#esvalue1
1acf : adf0 1c19                     jsr  #checkrightbracket
1ad1 : 1dc0 3ce1                     pop  link
1ad3 : afd0                          ret
1ad4 :                               .unary_sgn
1ad4 :                               .unary_sgn2
1ad4 : 5ce1 2dc0                     push  link
1ad6 : adf0 19da                     jsr  #evaluateinteger
1ad8 : 01e1                          mov  r1,#1
1ad9 : d0e0                          skp  r0
1ada : 01f0 ffff                     mov  r1,#-1
1adc : c0e0                          sknz r0
1add : 7110                          clr  r1
1ade : 21a0                          stm  r1,r10,#esvalue1
1adf : adf0 1c19                     jsr  #checkrightbracket
1ae1 : 1dc0 3ce1                     pop  link
1ae3 : afd0                          ret
1ae4 :                               .unary_len
1ae4 :                               .unary_len2
1ae4 : 5ce1 2dc0                     push  link
1ae6 : adf0 19d0                     jsr  #evaluatestring
1ae8 : 1000                          ldm  r0,r0,#0
1ae9 : 20a0                          stm  r0,r10,#esvalue1
1aea : 2ea1                          stm  r14,r10,#estype1
1aeb : adf0 1c19                     jsr  #checkrightbracket
1aed : 1dc0 3ce1                     pop  link
1aef : afd0                          ret
1af0 :                               .unary_asc
1af0 : 5ce1 2dc0                     push  link
1af2 : adf0 19d0                     jsr  #evaluatestring
1af4 : 1001                          ldm  r0,r0,#1
1af5 : 60f0 00ff                     and  r0,#$00ff
1af7 : 20a0                          stm  r0,r10,#esvalue1
1af8 : 2ea1                          stm  r14,r10,#estype1
1af9 : adf0 1c19                     jsr  #checkrightbracket
1afb : 1dc0 3ce1                     pop  link
1afd : afd0                          ret
1afe :                               .unary_peek
1afe : 5ce1 2dc0                     push  link
1b00 : adf0 19da                     jsr  #evaluateinteger
1b02 : 1000                          ldm  r0,r0,#0
1b03 : 20a0                          stm  r0,r10,#esvalue1
1b04 : adf0 1c19                     jsr  #checkrightbracket
1b06 : 1dc0 3ce1                     pop  link
1b08 : afd0                          ret
1b09 :                               .unary_inkey
1b09 : 5ce1 2dc0                     push  link
1b0b : adf0 1c19                     jsr  #checkrightbracket
1b0d : 1dc0 3ce1                     pop  link
1b0f :                               .unaryinkeynocheck
1b0f : 5ce1 2dc0                     push  link
1b11 : adea                          jsr  #osgetkeyboard
1b12 : 20a0                          stm  r0,r10,#esvalue1
1b13 : 2ea1                          stm  r14,r10,#estype1
1b14 : 2ea2                          stm  r14,r10,#esreference1
1b15 : 1dc0 3ce1                     pop  link
1b17 : afd0                          ret
1b18 :                               .unary_get
1b18 : 5ce1 2dc0                     push  link
1b1a : adf0 1c19                     jsr  #checkrightbracket
1b1c :                               ._ugwait
1b1c : adf0 1b0f                     jsr  #unaryinkeynocheck
1b1e : 10a0                          ldm  r0,r10,#esvalue1
1b1f : c0e0                          sknz r0
1b20 : aff0 1b1c                     jmp  #_ugwait
1b22 : 1dc0 3ce1                     pop  link
1b24 : afd0                          ret
1b25 :                               .unary_rnd
1b25 :                               .unary_rnd2
1b25 : 5ce1 2dc0                     push  link
1b27 : adf0 002a                     jsr  #osrandom16
1b29 : 11b0                          ldm  r1,r11,#0
1b2a : 71f0 324c                     xor  r1,#tok_rparen
1b2c : c1e0                          sknz  r1
1b2d : aff0 1b3e                     jmp  #unary_rndexit
1b2f : 0200                          mov  r2,r0,#0
1b30 : adf0 19da                     jsr  #evaluateinteger
1b32 : 0300                          mov  r3,r0,#0
1b33 : adf0 1c31                     jsr  #checkcomma
1b35 : adf0 19da                     jsr  #evaluateinteger
1b37 : 0101                          mov  r1,r0,#1
1b38 : 5130                          sub  r1,r3,#0
1b39 : 0020                          mov  r0,r2,#0
1b3a : adf0 0026                     jsr  #osudivide16
1b3c : 0010                          mov  r0,r1,#0
1b3d : 3030                          add  r0,r3,#0
1b3e :                               .unary_rndexit
1b3e : 20a0                          stm  r0,r10,#esvalue1
1b3f : 2ea1                          stm  r14,r10,#estype1
1b40 : 2ea2                          stm  r14,r10,#esreference1
1b41 : adf0 1c19                     jsr  #checkrightbracket
1b43 : 1dc0 3ce1                     pop  link
1b45 : afd0                          ret
1b46 :                               .unary_true
1b46 : 00f0 ffff                     mov  r0,#-1
1b48 : c0e0                          sknz  r0
1b49 :                               .unary_false
1b49 : 7000                          clr  r0
1b4a : 20a0                          stm  r0,r10,#esvalue1
1b4b : 2ea1                          stm  r14,r10,#estype1
1b4c : 2ea2                          stm  r14,r10,#esreference1
1b4d : afd0                          ret
1b4e :                               .command_page
1b4e : 00f0 406f                     mov  r0,#programcode
1b50 : 20a0                          stm  r0,r10,#esvalue1
1b51 : 2ea1                          stm  r14,r10,#estype1
1b52 : 2fa2                          stm  r15,r10,#esreference1
1b53 : afd0                          ret
1b54 :                               .command_sysvar
1b54 : 5ce1 2dc0                     push  link
1b56 : adf0 19da                     jsr  #evaluateinteger
1b58 : adf0 0022                     jsr  #osreadsystemvariable
1b5a : aff0 1b69                     jmp  #_joyexit
1b5c :                               .command_jx
1b5c : 7220                          clr  r2
1b5d : b2e0                          skz  r2
1b5e :                               .command_jy
1b5e : 02e2                          mov  r2,#2
1b5f : 5ce1 2dc0                     push  link
1b61 : adf0 0012                     jsr  #osreadjoystick
1b63 : 9020                          ror  r0,r2,#0
1b64 : 60e3                          and  r0,#3
1b65 : 3000                          add  r0,r0,#0
1b66 : c0e0                          sknz  r0
1b67 : 00e3                          mov  r0,#3
1b68 : 50e3                          sub  r0,#3
1b69 :                               ._joyexit
1b69 : 20a0                          stm  r0,r10,#esvalue1
1b6a : 2ea1                          stm  r14,r10,#estype1
1b6b : 2ea2                          stm  r14,r10,#esreference1
1b6c : adf0 1c19                     jsr  #checkrightbracket
1b6e : 1dc0 3ce1                     pop  link
1b70 : afd0                          ret
1b71 :                               .command_jbutton
1b71 : 5ce1 2dc0                     push  link
1b73 : adf0 19da                     jsr  #evaluateinteger
1b75 : 50e1                          dec  r0
1b76 : 0100                          mov  r1,r0,#0
1b77 : 50e2                          sub  r0,#2
1b78 : ffe0                          sklt
1b79 : aff0 207e                     jmp  #badnumbererror
1b7b : adf0 0012                     jsr  #osreadjoystick
1b7d : 9014                          ror  r0,r1,#4
1b7e : 60e1                          and  r0,#1
1b7f : b0e0                          skz  r0
1b80 : 50e2                          sub  r0,#2
1b81 : aff0 1b69                     jmp  #_joyexit
1b83 :                               .unary_alloc
1b83 : 5ce1 2dc0                     push  link
1b85 : adf0 19da                     jsr  #evaluateinteger
1b87 : adf0 1c19                     jsr  #checkrightbracket
1b89 : 11f0 4072                     ldm  r1,#memallocbottom
1b8b : 3010                          add  r0,r1,#0
1b8c : 20f0 4072                     stm  r0,#memallocbottom
1b8e : 21a0                          stm  r1,r10,#esvalue1
1b8f : 2ea1                          stm  r14,r10,#estype1
1b90 : 2ea2                          stm  r14,r10,#esreference1
1b91 : ffe0                          sknc
1b92 : aff0 2152                     jmp  #memoryerror
1b94 : 12f0 4071                     ldm   r2,#memalloctop
1b96 : 5120                          sub  r1,r2,#0
1b97 : ffe0                          sklt
1b98 : aff0 2152                     jmp  #memoryerror
1b9a : 1dc0 3ce1                     pop  link
1b9c : afd0                          ret
1b9d :                               .unary_val
1b9d :                               .unary_val2
1b9d : 5ce1 2dc0                     push  link
1b9f : adf0 19d0                     jsr  #evaluatestring
1ba1 : adf0 1c19                     jsr  #checkrightbracket
1ba3 : 01ea                          mov  r1,#10
1ba4 : adf0 1baf                     jsr  #compactstringtointeger
1ba6 : b1e0                          skz  r1
1ba7 : aff0 207e                     jmp  #badnumbererror
1ba9 : 20a0                          stm  r0,r10,#esvalue1
1baa : 2ea1                          stm  r14,r10,#estype1
1bab : 2ea2                          stm   r14,r10,#esreference1
1bac : 1dc0 3ce1                     pop  link
1bae : afd0                          ret
1baf :                               .compactstringtointeger
1baf : 5ce4 29c0 2ac1 2bc2 2dc3      push  r9,r10,r11,link
1bb4 : 7bb0                          clr  r11
1bb5 : 0a01                          mov  r10,r0,#1
1bb6 : 1900                          ldm  r9,r0,#0
1bb7 : 00f0 1bc1                     mov  r0,#stringextract
1bb9 : adf0 002c                     jsr  #osstrtoint
1bbb : 19c0 1ac1 1bc2 1dc3 3ce4      pop  r9,r10,r11,link
1bc0 : afd0                          ret
1bc1 :                               .stringextract
1bc1 : 7000                          clr  r0
1bc2 : c9e0                          sknz  r9
1bc3 : afd0                          ret
1bc4 : 59e1                          dec  r9
1bc5 : 10a0                          ldm  r0,r10,#0
1bc6 : bbe0                          skz  r11
1bc7 : 90e8                          ror  r0,#8
1bc8 : 60f0 00ff                     and  r0,#$00ff
1bca : 7be1                          xor  r11,#1
1bcb : cbe0                          sknz  r11
1bcc : 3ae1                          inc  r10
1bcd : afd0                          ret
1bce :                               .unary_chr
1bce : 5ce1 2dc0                     push  link
1bd0 : adf0 19da                     jsr  #evaluateinteger
1bd2 : adf0 1c19                     jsr  #checkrightbracket
1bd4 : 60f0 00ff                     and  r0,#$00ff
1bd6 :                               .unaryreturncharacter
1bd6 : 0100                          mov  r1,r0,#0
1bd7 : 00e2                          mov  r0,#2
1bd8 : adf0 1d77                     jsr  #allocatetempmemory
1bda : 2101                          stm  r1,r0,#1
1bdb : 01e1                          mov  r1,#1
1bdc : 2100                          stm  r1,r0,#0
1bdd : 20a0                          stm  r0,r10,#esvalue1
1bde : 2fa1                          stm  r15,r10,#estype1
1bdf : 2ea2                          stm  r14,r10,#esreference1
1be0 : 1dc0 3ce1                     pop  link
1be2 : afd0                          ret
1be3 :                               .unary_getstring
1be3 : 5ce1 2dc0                     push  link
1be5 : adf0 1b18                     jsr  #unary_get
1be7 : 10a0                          ldm  r0,r10,#esvalue1
1be8 : aff0 1bd6                     jmp  #unaryreturncharacter
1bea :                               .unary_inkeystring
1bea : 5ce1 2dc0                     push  link
1bec : adf0 1b09                     jsr  #unary_inkey
1bee : 10a0                          ldm  r0,r10,#esvalue1
1bef : aff0 1bd6                     jmp  #unaryreturncharacter
1bf1 :                               .unary_str
1bf1 :                               .unary_str2
1bf1 : 5ce1 2dc0                     push  link
1bf3 : adf0 19da                     jsr  #evaluateinteger
1bf5 : adf0 1c19                     jsr  #checkrightbracket
1bf7 : 01f0 800a                     mov  r1,#$800a
1bf9 : adf0 002e                     jsr  #osinttostr
1bfb : 0100                          mov  r1,r0,#0
1bfc : 00ea                          mov  r0,#maxistrsize
1bfd : adf0 1d77                     jsr  #allocatetempmemory
1bff : 20a0                          stm  r0,r10,#esvalue1
1c00 : 2fa1                          stm  r15,r10,#estype1
1c01 : 2ea2                          stm  r14,r10,#esreference1
1c02 : 02ea                          mov  r2,#maxistrsize
1c03 :                               ._uscopy
1c03 : 1310                          ldm  r3,r1,#0
1c04 : 2300                          stm  r3,r0,#0
1c05 : 31e1                          inc  r1
1c06 : 30e1                          inc  r0
1c07 : 52e1                          dec  r2
1c08 : b2e0                          skz  r2
1c09 : aff0 1c03                     jmp  #_uscopy
1c0b : 1dc0 3ce1                     pop  link
1c0d : afd0                          ret
1c0e :                               .checknexttoken
1c0e : 5ce1 21c0                     push  r1
1c10 : 11b0                          ldm  r1,r11,#0
1c11 : 3be1                          inc  r11
1c12 : 7010                          xor  r0,r1,#0
1c13 : b0e0                          skz  r0
1c14 : aff0 2047                     jmp  #syntaxerror
1c16 : 11c0 3ce1                     pop  r1
1c18 : afd0                          ret
1c19 :                               .checkrightbracket
1c19 : 5ce1 20c0                     push  r0
1c1b : 10b0                          ldm  r0,r11,#0
1c1c : 3be1                          inc  r11
1c1d : 70f0 324c                     xor  r0,#tok_rparen
1c1f : b0e0                          skz  r0
1c20 : aff0 2053                     jmp  #missingbracketerror
1c22 : 10c0 3ce1                     pop  r0
1c24 : afd0                          ret
1c25 :                               .checkhash
1c25 : 5ce1 20c0                     push  r0
1c27 : 10b0                          ldm  r0,r11,#0
1c28 : 3be1                          inc  r11
1c29 : 70f0 324b                     xor  r0,#tok_hash
1c2b : b0e0                          skz  r0
1c2c : aff0 2063                     jmp  #missinghasherror
1c2e : 10c0 3ce1                     pop  r0
1c30 : afd0                          ret
1c31 :                               .checkcomma
1c31 : 5ce1 20c0                     push  r0
1c33 : 10b0                          ldm  r0,r11,#0
1c34 : 3be1                          inc  r11
1c35 : 70f0 324d                     xor  r0,#tok_comma
1c37 : b0e0                          skz  r0
1c38 : aff0 205b                     jmp  #missingcommaerror
1c3a : 10c0 3ce1                     pop  r0
1c3c : afd0                          ret
1c3d :                               .getcharactertype
1c3d : 5ce1 21c0                     push  r1
1c3f : 01e1                          mov  r1,#1
1c40 : 70f0 002e                     xor  r0,#'.'
1c42 : c0e0                          sknz  r0
1c43 : aff0 1c64                     jmp  #_gctexit
1c45 : 70f0 002e                     xor  r0,#'.'
1c47 : 0100                          mov  r1,r0,#0
1c48 : 51f0 0060                     sub  r1,#96
1c4a : ffe0                          sklt
1c4b : 50f0 0020                     sub  r0,#32
1c4d : 7110                          clr  r1
1c4e : 50f0 0030                     sub  r0,#'0'
1c50 : ffe1                          skge
1c51 : aff0 1c64                     jmp  #_gctexit
1c53 : 01e2                          mov  r1,#2
1c54 : 50ea                          sub  r0,#10
1c55 : ffe1                          skge
1c56 : aff0 1c64                     jmp  #_gctexit
1c58 : 7110                          clr  r1
1c59 : 50e7                          sub  r0,#7
1c5a : ffe1                          skge
1c5b : aff0 1c64                     jmp  #_gctexit
1c5d : 50f0 001a                     sub  r0,#26
1c5f : 01e1                          mov  r1,#1
1c60 : ffe1                          skge
1c61 : aff0 1c64                     jmp  #_gctexit
1c63 : 01e2                          mov  r1,#2
1c64 :                               ._gctexit
1c64 : 0010                          mov  r0,r1,#0
1c65 : 11c0 3ce1                     pop  r1
1c67 : afd0                          ret
1c68 :                               .editprogram
1c68 : 51e1                          dec  r1
1c69 : 30e1                          inc  r0
1c6a : 2100                          stm  r1,r0,#0
1c6b : 1101                          ldm  r1,r0,#1
1c6c : 61f0 7fff                     and  r1,#$7fff
1c6e : 2101                          stm  r1,r0,#1
1c6f : 12f0 406f                     ldm  r2,#programcode
1c71 :                               ._epfind
1c71 : 1320                          ldm  r3,r2,#0
1c72 : c3e0                          sknz  r3
1c73 : aff0 1c82                     jmp  #_epcinsert
1c75 : 1421                          ldm  r4,r2,#1
1c76 : 5410                          sub  r4,r1,#0
1c77 : c4e0                          sknz  r4
1c78 : aff0 1c80                     jmp  #_epcdelete
1c7a : ffe0                          sklt
1c7b : aff0 1c82                     jmp  #_epcinsert
1c7d : 3230                          add  r2,r3,#0
1c7e : aff0 1c71                     jmp  #_epfind
1c80 :                               ._epcdelete
1c80 : adf0 1cbc                     jsr  #deleteline
1c82 :                               ._epcinsert
1c82 : 1302                          ldm  r3,r0,#2
1c83 : c3e0                          sknz  r3
1c84 : aff0 1c88                     jmp  #_epcdone
1c86 : adf0 1c8c                     jsr  #insertline
1c88 :                               ._epcdone
1c88 : adf0 1168                     jsr  #command_clear
1c8a : aff0 1027                     jmp  #warmstart
1c8c :                               .insertline
1c8c : 5ce7 20c0 21c1 22c2 23c3      push  r0,r1,r2,r3,r4,r5,link
1c94 : 0300                          mov  r3,r0,#0
1c95 : adf0 1cd4                     jsr  #findprogramend
1c97 : 0100                          mov  r1,r0,#0
1c98 : 1430                          ldm  r4,r3,#0
1c99 : 3140                          add  r1,r4,#0
1c9a : 14f0 4070                     ldm  r4,#endmemory
1c9c : 5140                          sub  r1,r4,#0
1c9d : ffe0                          sklt
1c9e : aff0 2152                     jmp  #memoryerror
1ca0 : 3140                          add  r1,r4,#0
1ca1 :                               ._ilmakespace
1ca1 : 1500                          ldm  r5,r0,#0
1ca2 : 2510                          stm  r5,r1,#0
1ca3 : 0500                          mov  r5,r0,#0
1ca4 : 7520                          xor  r5,r2,#0
1ca5 : 50e1                          dec  r0
1ca6 : 51e1                          dec  r1
1ca7 : b5e0                          skz  r5
1ca8 : aff0 1ca1                     jmp  #_ilmakespace
1caa : 1130                          ldm  r1,r3,#0
1cab :                               ._ilcopynew
1cab : 1030                          ldm  r0,r3,#0
1cac : 2020                          stm  r0,r2,#0
1cad : 33e1                          inc  r3
1cae : 32e1                          inc  r2
1caf : 51e1                          dec  r1
1cb0 : b1e0                          skz  r1
1cb1 : aff0 1cab                     jmp  #_ilcopynew
1cb3 : 10c0 11c1 12c2 13c3 14c4      pop  r0,r1,r2,r3,r4,r5,link
1cbb : afd0                          ret
1cbc :                               .deleteline
1cbc : 5ce4 20c0 21c1 22c2 2dc3      push r0,r1,r2,link
1cc1 : 1120                          ldm  r1,r2,#0
1cc2 : 3120                          add  r1,r2,#0
1cc3 : adf0 1cd4                     jsr  #findprogramend
1cc5 :                               ._dlcopy
1cc5 : 1310                          ldm  r3,r1,#0
1cc6 : 2320                          stm  r3,r2,#0
1cc7 : 0310                          mov  r3,r1,#0
1cc8 : 7300                          xor  r3,r0,#0
1cc9 : 31e1                          inc  r1
1cca : 32e1                          inc  r2
1ccb : b3e0                          skz  r3
1ccc : aff0 1cc5                     jmp  #_dlcopy
1cce : 10c0 11c1 12c2 1dc3 3ce4      pop  r0,r1,r2,link
1cd3 : afd0                          ret
1cd4 :                               .findprogramend
1cd4 : 5ce1 21c0                     push  r1
1cd6 : 10f0 406f                     ldm  r0,#programcode
1cd8 :                               ._ccfindend
1cd8 : 1100                          ldm  r1,r0,#0
1cd9 : 3010                          add  r0,r1,#0
1cda : b1e0                          skz  r1
1cdb : aff0 1cd8                     jmp  #_ccfindend
1cdd : 11c0 3ce1                     pop  r1
1cdf : afd0                          ret
1ce0 :                               .generrorhandler
1ce0 : 01d0                          mov  r1,link,#0
1ce1 : 00f0 0011                     mov  r0,#$11
1ce3 : ade4                          jsr  #osprintcharacter
1ce4 : 0010                          mov  r0,r1,#0
1ce5 : ade8                          jsr  #osprintstring
1ce6 : 10f0 4078                     ldm  r0,#currentline
1ce8 : 1001                          ldm  r0,r0,#1
1ce9 : c0e0                          sknz  r0
1cea : aff0 1cf4                     jmp  #_ehexit
1cec : ade6                          jsr  #osprintinline
1ced : 0003 4020 0020                string  " @ "
1cf0 : 01ea                          mov  r1,#10
1cf1 : adf0 002e                     jsr  #osinttostr
1cf3 : ade8                          jsr  #osprintstring
1cf4 :                               ._ehexit
1cf4 : ade6                          jsr  #osprintinline
1cf5 : 0002 120d                     string  "[0d][12]"
1cf7 : aff0 1027                     jmp  #warmstart
1cf9 :                               .skipstructure
1cf9 : 7330                          clr  r3
1cfa :                               ._ssloop
1cfa : 12b0                          ldm  r2,r11,#0
1cfb : c2e0                          sknz  r2
1cfc : aff0 1d2b                     jmp  #_ssnextline
1cfe : b3e0                          skz  r3
1cff : aff0 1d0a                     jmp  #_ssnext
1d01 : 7200                          xor  r2,r0,#0
1d02 : c2e0                          sknz  r2
1d03 : aff0 1d35                     jmp  #_ssfound
1d05 : 12b0                          ldm  r2,r11,#0
1d06 : 7210                          xor  r2,r1,#0
1d07 : c2e0                          sknz  r2
1d08 : aff0 1d35                     jmp  #_ssfound
1d0a :                               ._ssnext
1d0a : 12b0                          ldm  r2,r11,#0
1d0b : 62f0 ff00                     and  r2,#$ff00
1d0d : 72f0 0100                     xor  r2,#$0100
1d0f : c2e0                          sknz  r2
1d10 : aff0 1d25                     jmp  #_ssstring
1d12 : 12b0                          ldm  r2,r11,#0
1d13 : 0420                          mov  r4,r2,#0
1d14 : 3be1                          inc  r11
1d15 : 62f0 f800                     and  r2,#$f800
1d17 : 72f0 3800                     xor  r2,#$3800
1d19 : b2e0                          skz  r2
1d1a : aff0 1cfa                     jmp  #_ssloop
1d1c : 94e9                          ror  r4,#9
1d1d : 64e3                          and  r4,#3
1d1e : 54e2                          sub  r4,#2
1d1f : 3340                          add  r3,r4,#0
1d20 : e3e0                          skm  r3
1d21 : aff0 1cfa                     jmp  #_ssloop
1d23 : aff0 20de                     jmp  #structureerror
1d25 :                               ._ssstring
1d25 : 12b0                          ldm  r2,r11,#0
1d26 : 62f0 00ff                     and  r2,#$00ff
1d28 : 3b20                          add  r11,r2,#0
1d29 : aff0 1cfa                     jmp  #_ssloop
1d2b :                               ._ssnextline
1d2b : 3be1                          inc  r11
1d2c : 12b0                          ldm  r2,r11,#0
1d2d : c2e0                          sknz  r2
1d2e : aff0 20de                     jmp  #structureerror
1d30 : 2bf0 4078                     stm  r11,#currentline
1d32 : 3be2                          add  r11,#2
1d33 : aff0 1cfa                     jmp  #_ssloop
1d35 :                               ._ssfound
1d35 : 3be1                          inc  r11
1d36 : afd0                          ret
1d37 :                               .stackreset
1d37 : 10f0 4073                     ldm  r0,#returnstacktop
1d39 : 20f0 407c                     stm  r0,#returnstackptr
1d3b : 2e00                          stm  r14,r0,#0
1d3c : afd0                          ret
1d3d :                               .stackpushposition
1d3d : 10f0 407c                     ldm  r0,#returnstackptr
1d3f : 50e2                          sub  r0,#2
1d40 : 20f0 407c                     stm  r0,#returnstackptr
1d42 : 2b00                          stm  r11,r0,#0
1d43 : 11f0 4078                     ldm  r1,#currentline
1d45 : 2101                          stm  r1,r0,#1
1d46 : afd0                          ret
1d47 :                               .stackpopposition
1d47 : 10f0 407c                     ldm  r0,#returnstackptr
1d49 : 1b01                          ldm  r11,r0,#1
1d4a : 1002                          ldm  r0,r0,#2
1d4b : 20f0 4078                     stm  r0,#currentline
1d4d : afd0                          ret
1d4e :                               .stackpushmarker
1d4e : 10f0 407c                     ldm  r0,#returnstackptr
1d50 : 50e1                          dec  r0
1d51 : 20f0 407c                     stm  r0,#returnstackptr
1d53 : 11d0                          ldm  r1,link,#0
1d54 : 2100                          stm  r1,r0,#0
1d55 : 3de1                          inc  link
1d56 : 11f0 4074                     ldm  r1,#returnstackbottom
1d58 : 5010                          sub  r0,r1,#0
1d59 : ffe1                          skge
1d5a : aff0 213d                     jmp  #returnstackerror
1d5c : afd0                          ret
1d5d :                               .stackcheckmarker
1d5d : 10f0 407c                     ldm  r0,#returnstackptr
1d5f : 1000                          ldm  r0,r0,#0
1d60 : 11d0                          ldm  r1,link,#0
1d61 : 3de1                          inc  link
1d62 : 7010                          xor  r0,r1,#0
1d63 : c0e0                          sknz  r0
1d64 : 3de2                          add  link,#2
1d65 : afd0                          ret
1d66 :                               .stackpopwords
1d66 : 11f0 407c                     ldm  r1,#returnstackptr
1d68 : 3010                          add  r0,r1,#0
1d69 : 20f0 407c                     stm  r0,#returnstackptr
1d6b : afd0                          ret
1d6c :                               .stackpushr0
1d6c : 5ce1 21c0                     push  r1
1d6e : 11f0 407c                     ldm  r1,#returnstackptr
1d70 : 51e1                          dec  r1
1d71 : 21f0 407c                     stm  r1,#returnstackptr
1d73 : 2010                          stm  r0,r1,#0
1d74 : 11c0 3ce1                     pop  r1
1d76 : afd0                          ret
1d77 :                               .allocatetempmemory
1d77 : 5ce1 21c0                     push  r1
1d79 : 11f0 407a                     ldm  r1,#tempstringalloc
1d7b : b1e0                          skz  r1
1d7c : aff0 1d82                     jmp  #_atmnoinitialise
1d7e : 11f0 4071                     ldm  r1,#memalloctop
1d80 : 51f0 00ff                     sub  r1,#maxstringsize
1d82 :                               ._atmnoinitialise
1d82 : 5100                          sub  r1,r0,#0
1d83 : 21f0 407a                     stm  r1,#tempstringalloc
1d85 : 10f0 4072                     ldm  r0,#memallocbottom
1d87 : 5010                          sub  r0,r1,#0
1d88 : ffe0                          sklt  r0
1d89 : aff0 2152                     jmp  #memoryerror
1d8b : 0010                          mov  r0,r1,#0
1d8c : 11c0 3ce1                     pop  r1
1d8e : afd0                          ret
1d8f :                               .stringassign
1d8f : 5ce6 20c0 21c1 22c2 23c3      push  r0,r1,r2,r3,r4,link
1d96 : 0200                          mov  r2,r0,#0
1d97 : adf0 0034                     jsr  #oswordlength
1d99 : 13f0 4071                     ldm  r3,#memalloctop
1d9b : 1410                          ldm   r4,r1,#0
1d9c : 5430                          sub  r4,r3,#0
1d9d : ffe1                          skge
1d9e : aff0 1da8                     jmp  #_ssaconcrete
1da0 : 1410                          ldm  r4,r1,#0
1da1 : 54e1                          dec  r4
1da2 : 1340                          ldm  r3,r4,#0
1da3 : 53e1                          dec  r3
1da4 : 5300                          sub  r3,r0,#0
1da5 : ffe0                          sklt
1da6 : aff0 1db9                     jmp  #_ssausecurrent
1da8 :                               ._ssaconcrete
1da8 : 0409                          mov  r4,r0,#1+extrastringalloc
1da9 : 13f0 4071                     ldm  r3,#memalloctop
1dab : 5340                          sub  r3,r4,#0
1dac : 23f0 4071                     stm  r3,#memalloctop
1dae : 2430                          stm  r4,r3,#0
1daf : 33e1                          inc  r3
1db0 : 2310                          stm  r3,r1,#0
1db1 : 14f0 4072                     ldm  r4,#memallocbottom
1db3 : 34f0 0100                     add  r4,#256
1db5 : 5430                          sub  r4,r3,#0
1db6 : ffe0                          sklt
1db7 : aff0 2152                     jmp  #memoryerror
1db9 :                               ._ssausecurrent
1db9 : 1310                          ldm  r3,r1,#0
1dba :                               ._ssacopy
1dba : 1420                          ldm  r4,r2,#0
1dbb : 2430                          stm  r4,r3,#0
1dbc : 32e1                          inc  r2
1dbd : 33e1                          inc  r3
1dbe : 50e1                          dec  r0
1dbf : e0e0                          skm  r0
1dc0 : aff0 1dba                     jmp  #_ssacopy
1dc2 : 10c0 11c1 12c2 13c3 14c4      pop  r0,r1,r2,r3,r4,link
1dc9 : afd0                          ret
1dca :                               .tokenisestring
1dca : 5ceb 22c0 23c1 24c2 25c3      push  r2,r3,r4,r5,r6,r7,r8,r9,r10,r11,link
1dd6 : 09f0 413a                     mov  r9,#tokenbuffer
1dd8 : 2e90                          stm  r14,r9,#0
1dd9 : 2e91                          stm  r14,r9,#1
1dda : 39e2                          add  r9,#2
1ddb : 0800                          mov  r8,r0,#0
1ddc : 07f0 00ff                     mov  r7,#$0ff
1dde :                               ._tsloop
1dde : 1080                          ldm  r0,r8,#0
1ddf : 6070                          and  r0,r7,#0
1de0 : 0300                          mov  r3,r0,#0
1de1 : c0e0                          sknz  r0
1de2 : aff0 1df8                     jmp  #_tsexit
1de4 : 70f0 0020                     xor  r0,#' '
1de6 : 38e1                          inc  r8
1de7 : c0e0                          sknz  r0
1de8 : aff0 1dde                     jmp  #_tsloop
1dea : 58e1                          dec  r8
1deb : adf0 1e0d                     jsr  #tokeniseelement
1ded : b0e0                          skz  r0
1dee : aff0 1dff                     jmp  #_tsfail
1df0 : 0090                          mov  r0,r9,#0
1df1 : 50f0 4238                     sub  r0,#tokenbufferend-2
1df3 : ffe0                          sklt
1df4 : aff0 2161                     jmp  #tokeniseerror
1df6 : aff0 1dde                     jmp  #_tsloop
1df8 :                               ._tsexit
1df8 : 2e90                          stm  r14,r9,#0
1df9 : 0190                          mov  r1,r9,#0
1dfa : 51f0 4139                     sub  r1,#tokenbuffer-1
1dfc : 00f0 413a                     mov  r0,#tokenbuffer
1dfe : c0e0                          sknz  r0
1dff :                               ._tsfail
1dff : 7000                          clr  r0
1e00 : 12c0 13c1 14c2 15c3 16c4      pop  r2,r3,r4,r5,r6,r7,r8,r9,r10,r11,link
1e0c : afd0                          ret
1e0d :                               .tokeniseelement
1e0d : 5ce1 2dc0                     push  link
1e0f : 0030                          mov  r0,r3,#0
1e10 : 70f0 002e                     xor  r0,#'.'
1e12 : c0e0                          sknz  r0
1e13 : aff0 1e48                     jmp  #tokenisepunctuation
1e15 : 0030                          mov  r0,r3,#0
1e16 : adf0 1c3d                     jsr  #getcharactertype
1e18 : 30f0 1e22                     add  r0,#_tehandlertable
1e1a : 1000                          ldm  r0,r0,#0
1e1b : af00                          brl  r15,r0,#0
1e1c :                               .teexitokay
1e1c : 7000                          clr  r0
1e1d : b0e0                          skz  r0
1e1e :                               .teexitfail
1e1e : 00e1                          mov  r0,#1
1e1f : 1dc0 3ce1                     pop  link
1e21 : afd0                          ret
1e22 :                               ._tehandlertable
1e22 : 1e48                          word  tokenisepunctuation
1e23 : 1ed3                          word  tokeniseidentkeyword
1e24 : 1e2a                          word tokeniseconstant
1e25 :                               .tokeniseconstantbase
1e25 : 2290                          stm  r2,r9,#0
1e26 : 39e1                          inc  r9
1e27 : 38e1                          inc  r8
1e28 : aff0 1e2b                     jmp  #tccontinue
1e2a :                               .tokeniseconstant
1e2a : 01ea                          mov  r1,#10
1e2b :                               .tccontinue
1e2b : 0a80                          mov  r10,r8,#0
1e2c : 00f0 1e43                     mov  r0,#tokconstfetch
1e2e : adf0 002c                     jsr  #osstrtoint
1e30 : b1e0                          skz  r1
1e31 : aff0 1e1e                     jmp  #teexitfail
1e33 : e0e0                          skm  r0
1e34 : aff0 1e3a                     jmp  #_tcnoshift
1e36 : 01f0 302c                     mov  r1,#tok_vbarconstshift
1e38 : 2190                          stm  r1,r9,#0
1e39 : 39e1                          inc  r9
1e3a :                               ._tcnoshift
1e3a : e0e0                          skm  r0
1e3b : 30f0 8000                     add  r0,#$8000
1e3d : 2090                          stm  r0,r9,#0
1e3e : 39e1                          inc  r9
1e3f : 08a0                          mov  r8,r10,#0
1e40 : 58e1                          dec  r8
1e41 : aff0 1e1c                     jmp  #teexitokay
1e43 :                               .tokconstfetch
1e43 : 10a0                          ldm  r0,r10,#0
1e44 : 3ae1                          inc  r10
1e45 : 60f0 00ff                     and  r0,#$00ff
1e47 : afd0                          ret
1e48 :                               .tokenisepunctuation
1e48 : 0030                          mov  r0,r3,#0
1e49 : 01e2                          mov  r1,#2
1e4a : 02f0 302b                     mov  r2,#tok_percent
1e4c : 70f0 0025                     xor  r0,#'%'
1e4e : c0e0                          sknz  r0
1e4f : aff0 1e25                     jmp  #tokeniseconstantbase
1e51 : 01f0 0010                     mov  r1,#16
1e53 : 02f0 302a                     mov  r2,#tok_ampersand
1e55 : 70e3                          xor  r0,#'%'^'&'
1e56 : c0e0                          sknz  r0
1e57 : aff0 1e25                     jmp  #tokeniseconstantbase
1e59 : 70e4                          xor  r0,#'&'^'"'
1e5a : c0e0                          sknz  r0
1e5b : aff0 1ea0                     jmp  #tokenisestringconstant
1e5d : 38e1                          inc  r8
1e5e : 1080                          ldm  r0,r8,#0
1e5f : 6070                          and  r0,r7,#0
1e60 : adf0 1c3d                     jsr  #getcharactertype
1e62 : b0e0                          skz  r0
1e63 : aff0 1e70                     jmp  #tokpuncchecksingle
1e65 : 1080                          ldm  r0,r8,#0
1e66 : 38e1                          inc  r8
1e67 : 6070                          and  r0,r7,#0
1e68 : 90e8                          ror  r0,#8
1e69 : 3030                          add  r0,r3,#0
1e6a : adf0 1e7a                     jsr  #tokpunccheckexists
1e6c : b0e0                          skz  r0
1e6d : aff0 1e76                     jmp  #tokpuncwritetoken
1e6f : 58e1                          dec  r8
1e70 :                               .tokpuncchecksingle
1e70 : 0030                          mov  r0,r3,#0
1e71 : adf0 1e7a                     jsr  #tokpunccheckexists
1e73 : c0e0                          sknz  r0
1e74 : aff0 1e1e                     jmp  #teexitfail
1e76 :                               .tokpuncwritetoken
1e76 : 2090                          stm  r0,r9,#0
1e77 : 39e1                          inc  r9
1e78 : aff0 1e1c                     jmp  #teexitokay
1e7a :                               .tokpunccheckexists
1e7a : 5ce3 23c0 24c1 25c2           push  r3,r4,r5
1e7e : 04f0 2190                     mov  r4,#tokeniserwords
1e80 : 0300                          mov   r3,r0,#0
1e81 : e3e0                          skm  r3
1e82 : 33f0 8000                     add  r3,#$8000
1e84 : 7550                          clr  r5
1e85 :                               ._tpceloop
1e85 : 1040                          ldm  r0,r4,#0
1e86 : c0e0                          sknz  r0
1e87 : aff0 1e9b                     jmp  #_tpceexit
1e89 : 1041                          ldm  r0,r4,#1
1e8a : 7030                          xor  r0,r3,#0
1e8b : c0e0                          sknz  r0
1e8c : aff0 1e94                     jmp  #_tpcefound
1e8e : 1040                          ldm  r0,r4,#0
1e8f : 6070                          and  r0,r7,#0
1e90 : 3401                          add  r4,r0,#1
1e91 : 35e1                          inc  r5
1e92 : aff0 1e85                     jmp  #_tpceloop
1e94 :                               ._tpcefound
1e94 : 1040                          ldm  r0,r4,#0
1e95 : 60f0 ff00                     and  r0,#$ff00
1e97 : 3000                          add  r0,r0,#0
1e98 : 3050                          add  r0,r5,#0
1e99 : 30f0 2000                     add  r0,#$2000
1e9b :                               ._tpceexit
1e9b : 13c0 14c1 15c2 3ce3           pop  r3,r4,r5
1e9f : afd0                          ret
1ea0 :                               .tokenisestringconstant
1ea0 : 38e1                          inc  r8
1ea1 : 0690                          mov  r6,r9,#0
1ea2 : 2e61                          stm  r14,r6,#1
1ea3 : 2e62                          stm  r14,r6,#2
1ea4 : 0562                          mov  r5,r6,#2
1ea5 :                               .tokstringloop
1ea5 : 1080                          ldm  r0,r8,#0
1ea6 : 6070                          and  r0,r7,#0
1ea7 : c0e0                          sknz  r0
1ea8 : aff0 1e1e                     jmp  #teexitfail
1eaa : 70f0 0022                     xor  r0,#34
1eac : c0e0                          sknz  r0
1ead : aff0 1ec0                     jmp  #tokstringcomplete
1eaf : 1161                          ldm  r1,r6,#1
1eb0 : 31e1                          inc  r1
1eb1 : 2161                          stm  r1,r6,#1
1eb2 : 91e1                          ror  r1,#1
1eb3 : 1080                          ldm  r0,r8,#0
1eb4 : 6070                          and  r0,r7,#0
1eb5 : 38e1                          inc  r8
1eb6 : e1e0                          skm  r1
1eb7 : 90e8                          ror  r0,#8
1eb8 : 1250                          ldm  r2,r5,#0
1eb9 : 3200                          add  r2,r0,#0
1eba : 2250                          stm  r2,r5,#0
1ebb : 2e51                          stm  r14,r5,#1
1ebc : e1e0                          skm  r1
1ebd : 35e1                          inc  r5
1ebe : aff0 1ea5                     jmp  #tokstringloop
1ec0 :                               .tokstringcomplete
1ec0 : 38e1                          inc  r8
1ec1 : 1061                          ldm  r0,r6,#1
1ec2 : 60e1                          and  r0,#1
1ec3 : b0e0                          skz  r0
1ec4 : 35e1                          inc  r5
1ec5 : 0950                          mov  r9,r5,#0
1ec6 : 5560                          sub  r5,r6,#0
1ec7 : 35f0 0100                     add  r5,#$0100
1ec9 : 2560                          stm  r5,r6,#0
1eca : 65f0 ff00                     and  r5,#$ff00
1ecc : 75f0 0100                     xor  r5,#$0100
1ece : b5e0                          skz  r5
1ecf : aff0 1e1e                     jmp  #teexitfail
1ed1 : aff0 1e1c                     jmp  #teexitokay
1ed3 :                               .tokeniseidentkeyword
1ed3 : 0690                          mov  r6,r9,#0
1ed4 : 7550                          clr  r5
1ed5 : 2e90                          stm  r14,r9,#0
1ed6 :                               ._tikbuildident
1ed6 : 1080                          ldm  r0,r8,#0
1ed7 : 6070                          and  r0,r7,#0
1ed8 : adf0 0030                     jsr  #osuppercase
1eda : 0300                          mov  r3,r0,#0
1edb : 01f0 0025                     mov  r1,#37
1edd : 70f0 002e                     xor  r0,#'.'
1edf : c0e0                          sknz  r0
1ee0 : aff0 1eef                     jmp  #_tikhavecharacter
1ee2 : 0030                          mov  r0,r3,#0
1ee3 : adf0 1c3d                     jsr  #getcharactertype
1ee5 : c0e0                          sknz  r0
1ee6 : aff0 1efc                     jmp  #_tikhaveident
1ee8 : 0130                          mov  r1,r3,#0
1ee9 : 51f0 0040                     sub  r1,#64
1eeb : 50e1                          dec  r0
1eec : b0e0                          skz  r0
1eed : 31f0 002b                     add  r1,#64-48+27
1eef :                               ._tikhavecharacter
1eef : b5e0                          skz  r5
1ef0 : 81f0 0028                     mult  r1,#40
1ef2 : 1090                          ldm  r0,r9,#0
1ef3 : 3010                          add  r0,r1,#0
1ef4 : 2090                          stm  r0,r9,#0
1ef5 : 2e91                          stm  r14,r9,#1
1ef6 : b5e0                          skz  r5
1ef7 : 39e1                          inc  r9
1ef8 : 75e1                          xor  r5,#1
1ef9 : 38e1                          inc  r8
1efa : aff0 1ed6                     jmp  #_tikbuildident
1efc :                               ._tikhaveident
1efc : b5e0                          skz  r5
1efd : 39e1                          inc  r9
1efe : 59e1                          dec  r9
1eff : 1090                          ldm  r0,r9,#0
1f00 : 30f0 2000                     add  r0,#$2000
1f02 : 2090                          stm  r0,r9,#0
1f03 : 39e1                          inc  r9
1f04 : 05f0 4000                     mov  r5,#$4000
1f06 : 1080                          ldm  r0,r8,#0
1f07 : 6070                          and  r0,r7,#0
1f08 : 70f0 0024                     xor  r0,#'$'
1f0a : c0e0                          sknz  r0
1f0b : 35f0 1000                     add  r5,#$1000
1f0d : c0e0                          sknz  r0
1f0e : 38e1                          inc  r8
1f0f : 1080                          ldm  r0,r8,#0
1f10 : 6070                          and  r0,r7,#0
1f11 : 70f0 0028                     xor  r0,#'('
1f13 : c0e0                          sknz  r0
1f14 : 35f0 0800                     add  r5,#$0800
1f16 : c0e0                          sknz  r0
1f17 : 38e1                          inc  r8
1f18 : 0160                          mov  r1,r6,#0
1f19 :                               ._tikapplytyping
1f19 : 1010                          ldm  r0,r1,#0
1f1a : 3050                          add  r0,r5,#0
1f1b : 2010                          stm  r0,r1,#0
1f1c : 31e1                          inc  r1
1f1d : 0010                          mov  r0,r1,#0
1f1e : 7090                          xor  r0,r9,#0
1f1f : b0e0                          skz  r0
1f20 : aff0 1f19                     jmp  #_tikapplytyping
1f22 : 04f0 2190                     mov  r4,#tokeniserwords
1f24 : 0590                          mov  r5,r9,#0
1f25 : 5560                          sub  r5,r6,#0
1f26 : 7bb0                          clr  r11
1f27 :                               ._tikcheckidentifier
1f27 : 1040                          ldm  r0,r4,#0
1f28 : c0e0                          sknz  r0
1f29 : aff0 1e1c                     jmp  #teexitokay
1f2b : 6070                          and  r0,r7,#0
1f2c : 0300                          mov  r3,r0,#0
1f2d : 7050                          xor  r0,r5,#0
1f2e : b0e0                          skz  r0
1f2f : aff0 1f4c                     jmp  #_tiknext
1f31 : 0160                          mov  r1,r6,#0
1f32 : 0241                          mov  r2,r4,#1
1f33 :                               ._tikcheckword
1f33 : 1010                          ldm  r0,r1,#0
1f34 : 1a20                          ldm  r10,r2,#0
1f35 : 70a0                          xor  r0,r10,#0
1f36 : b0e0                          skz  r0
1f37 : aff0 1f4c                     jmp  #_tiknext
1f39 : 31e1                          inc  r1
1f3a : 32e1                          inc  r2
1f3b : 53e1                          dec  r3
1f3c : b3e0                          skz  r3
1f3d : aff0 1f33                     jmp  #_tikcheckword
1f3f : 1040                          ldm  r0,r4,#0
1f40 : 60f0 ff00                     and  r0,#$ff00
1f42 : 3000                          add  r0,r0,#0
1f43 : 30b0                          add  r0,r11,#0
1f44 : 30f0 2000                     add  r0,#$2000
1f46 : 0960                          mov  r9,r6,#0
1f47 : 2090                          stm  r0,r9,#0
1f48 : 2e91                          stm  r14,r9,#1
1f49 : 39e1                          inc  r9
1f4a : aff0 1e1c                     jmp  #teexitokay
1f4c :                               ._tiknext
1f4c : 1040                          ldm  r0,r4,#0
1f4d : 6070                          and  r0,r7,#0
1f4e : 3401                          add  r4,r0,#1
1f4f : 3be1                          inc  r11
1f50 : aff0 1f27                     jmp  #_tikcheckidentifier
1f52 :                               .comparer0r1
1f52 : 1200                          ldm  r2,r0,#0
1f53 : 1310                          ldm  r3,r1,#0
1f54 : 30e1                          inc  r0
1f55 : 31e1                          inc  r1
1f56 : 7230                          xor  r2,r3,#0
1f57 : b2e0                          skz  r2
1f58 : 0000                          break
1f59 : b3e0                          skz  r3
1f5a : aff0 1f52                     jmp  #comparer0r1
1f5c : afd0                          ret
1f5d :                               .varerasehashtables
1f5d : 00f0 40fa                     mov  r0,#variablehashtable
1f5f : 01f0 0040                     mov  r1,#hashtablesize*4
1f61 :                               ._vehtloop
1f61 : 2e00                          stm  r14,r0,#0
1f62 : 30e1                          inc  r0
1f63 : 51e1                          dec  r1
1f64 : b1e0                          skz  r1
1f65 : aff0 1f61                     jmp  #_vehtloop
1f67 : afd0                          ret
1f68 :                               .duplicatereference
1f68 : 5ce3 20c0 21c1 22c2           push  r0,r1,r2
1f6c : 10f0 4072                     ldm  r0,#memallocbottom
1f6e : 0100                          mov  r1,r0,#0
1f6f :                               ._drcopy
1f6f : 12b0                          ldm  r2,r11,#0
1f70 : 2200                          stm  r2,r0,#0
1f71 : 30e1                          inc  r0
1f72 : 3be1                          inc  r11
1f73 : 92ee                          ror  r2,#14
1f74 : e2e0                          skm  r2
1f75 : aff0 1f6f                     jmp  #_drcopy
1f77 : 20f0 4072                     stm  r0,#memallocbottom
1f79 : 0b10                          mov  r11,r1,#0
1f7a : 10c0 11c1 12c2 3ce3           pop  r0,r1,r2
1f7e : afd0                          ret
1f7f :                               .getvariablereference
1f7f : 10b0                          ldm  r0,r11,#0
1f80 : 50f0 6000                     sub  r0,#$6000
1f82 : 50f0 001b                     sub  r0,#26+1
1f84 : ffe0                          sklt  r0
1f85 : aff0 1f8f                     jmp  #_gvrnotfixedvariable
1f87 : 01f0 40fa                     mov  r1,#fixedvariables+26
1f89 : 3100                          add  r1,r0,#0
1f8a : 21a0                          stm  r1,r10,#esvalue1
1f8b : 2fa2                          stm  r15,r10,#esreference1
1f8c : 2ea1                          stm  r14,r10,#estype1
1f8d : 3be1                          inc  r11
1f8e : afd0                          ret
1f8f :                               ._gvrnotfixedvariable
1f8f : 5ce8 20c0 21c1 22c2 23c3      push  r0,r1,r2,r3,r4,r5,r6,link
1f98 : adf0 1fc1                     jsr  #findvariable
1f9a : b0e0                          skz  r0
1f9b : aff0 1fa5                     jmp  #_gvrhavevariable
1f9d :                               ._gvrnotfound
1f9d : 10b0                          ldm  r0,r11,#0
1f9e : 90ec                          ror  r0,#12
1f9f : d0e0                          skp  r0
1fa0 : aff0 208e                     jmp  #arrayautoerror
1fa2 : 00e3                          mov  r0,#3
1fa3 : adf0 1fe9                     jsr  #createvariablerecord
1fa5 :                               ._gvrhavevariable
1fa5 : 11b0                          ldm  r1,r11,#0
1fa6 : 0210                          mov  r2,r1,#0
1fa7 : 3be1                          inc  r11
1fa8 : 91ee                          ror  r1,#14
1fa9 : e1e0                          skm  r1
1faa : aff0 1fa5                     jmp  #_gvrhavevariable
1fac : 91ee                          ror  r1,#14
1fad : d1e0                          skp  r1
1fae : adf0 2014                     jsr  #indexarray
1fb0 : e1e0                          skm  r1
1fb1 : 30e2                          add  r0,#2
1fb2 : 20a0                          stm  r0,r10,#esvalue1
1fb3 : 2fa2                          stm  r15,r10,#esreference1
1fb4 : 62f0 1000                     and  r2,#$1000
1fb6 : 22a1                          stm  r2,r10,#estype1
1fb7 : 10c0 11c1 12c2 13c3 14c4      pop  r0,r1,r2,r3,r4,r5,r6,link
1fc0 : afd0                          ret
1fc1 :                               .findvariable
1fc1 : 10b0                          ldm  r0,r11,#0
1fc2 : 60f0 c000                     and  r0,#$c000
1fc4 : 70f0 4000                     xor  r0,#$4000
1fc6 : b0e0                          skz  r0
1fc7 : aff0 2047                     jmp  #syntaxerror
1fc9 : 16b0                          ldm  r6,r11,#0
1fca : 0060                          mov  r0,r6,#0
1fcb : 90e6                          ror  r0,#6
1fcc : 3600                          add  r6,r0,#0
1fcd : 66ef                          and  r6,#hashtablesize-1
1fce : 10b0                          ldm  r0,r11,#0
1fcf : 60f0 1800                     and  r0,#$1800
1fd1 : 90e7                          ror  r0,#11-hashtablepower
1fd2 : 3600                          add  r6,r0,#0
1fd3 : 36f0 40fa                     add  r6,#variablehashtable
1fd5 : 0060                          mov  r0,r6,#0
1fd6 :                               ._fvrsearch
1fd6 : 1000                          ldm  r0,r0,#0
1fd7 : c0e0                          sknz  r0
1fd8 : aff0 1fe8                     jmp  #_fvrexit
1fda : 1101                          ldm  r1,r0,#1
1fdb : 02b0                          mov  r2,r11,#0
1fdc :                               ._fvrcompare
1fdc : 1310                          ldm  r3,r1,#0
1fdd : 1420                          ldm  r4,r2,#0
1fde : 7340                          xor  r3,r4,#0
1fdf : b3e0                          skz  r3
1fe0 : aff0 1fd6                     jmp  #_fvrsearch
1fe2 : 31e1                          inc  r1
1fe3 : 32e1                          inc  r2
1fe4 : 94ee                          ror  r4,#14
1fe5 : e4e0                          skm  r4
1fe6 : aff0 1fdc                     jmp  #_fvrcompare
1fe8 :                               ._fvrexit
1fe8 : afd0                          ret
1fe9 :                               .createvariablerecord
1fe9 : 5ce2 2bc0 2dc1                push  r11,link
1fec : 03b0                          mov  r3,r11,#0
1fed : 53f0 423a                     sub  r3,#tokenbufferend
1fef : ffe1                          skge
1ff0 : adf0 1f68                     jsr  #duplicatereference
1ff2 : 11f0 4072                     ldm  r1,#memallocbottom
1ff4 : 1260                          ldm  r2,r6,#0
1ff5 : 2210                          stm  r2,r1,#0
1ff6 : 2b11                          stm  r11,r1,#1
1ff7 : 13b0                          ldm  r3,r11,#0
1ff8 : 93ed                          ror  r3,#13
1ff9 : 7220                          clr  r2
1ffa : d3e0                          skp  r3
1ffb : 02f0 2013                     mov  r2,#_gvrnullstring
1ffd : 2212                          stm  r2,r1,#2
1ffe : 0210                          mov  r2,r1,#0
1fff : 3200                          add  r2,r0,#0
2000 : ffe0                          sknc
2001 : aff0 2152                     jmp  #memoryerror
2003 : 22f0 4072                     stm  r2,#memallocbottom
2005 : 13f0 4071                     ldm  r3,#memalloctop
2007 : 53f0 0100                     sub  r3,#256
2009 : 5230                          sub  r2,r3,#0
200a : ffe0                          sklt
200b : aff0 2152                     jmp  #memoryerror
200d : 2160                          stm  r1,r6,#0
200e : 0010                          mov  r0,r1,#0
200f : 1bc0 1dc1 3ce2                pop  r11,link
2012 : afd0                          ret
2013 :                               ._gvrnullstring
2013 : 0000                          word  0
2014 :                               .indexarray
2014 : 5ce5 21c0 22c1 23c2 24c3      push  r1,r2,r3,r4,link
201a : 0300                          mov  r3,r0,#0
201b : adf0 19da                     jsr  #evaluateinteger
201d : 1232                          ldm  r2,r3,#2
201e : 5200                          sub  r2,r0,#0
201f : ffe1                          skge
2020 : aff0 2086                     jmp  #badindexerror
2022 : 11b0                          ldm  r1,r11,#0
2023 : 71f0 324d                     xor  r1,#tok_comma
2025 : c1e0                          sknz  r1
2026 : aff0 2036                     jmp  #_iadimension2
2028 : 1233                          ldm  r2,r3,#3
2029 : b2e0                          skz  r2
202a : aff0 205b                     jmp  #missingcommaerror
202c :                               ._iadone
202c : 3034                          add  r0,r3,#4
202d : adf0 1c19                     jsr  #checkrightbracket
202f : 11c0 12c1 13c2 14c3 1dc4      pop  r1,r2,r3,r4,link
2035 : afd0                          ret
2036 :                               ._iadimension2
2036 : 3be1                          inc  r11
2037 : 0400                          mov  r4,r0,#0
2038 : adf0 19da                     jsr  #evaluateinteger
203a : 1233                          ldm  r2,r3,#3
203b : c2e0                          sknz  r2
203c : aff0 2053                     jmp  #missingbracketerror
203e : 5200                          sub  r2,r0,#0
203f : ffe1                          skge
2040 : aff0 2086                     jmp  #badindexerror
2042 : 1232                          ldm  r2,r3,#2
2043 : 8021                          mult  r0,r2,#1
2044 : 3040                          add  r0,r4,#0
2045 : aff0 202c                     jmp  #_iadone
2047 :                               .syntaxerror
2047 : adf0 1ce0                     jsr #generrorhandler
2049 : 0006 7953 746e 7861           string "syntax"
204d :                               .asserterror
204d : adf0 1ce0                     jsr #generrorhandler
204f : 0006 7341 6573 7472           string "assert"
2053 :                               .missingbracketerror
2053 : adf0 1ce0                     jsr #generrorhandler
2055 : 0009 694d 7373 6e69 2067      string "missing )"
205b :                               .missingcommaerror
205b : adf0 1ce0                     jsr #generrorhandler
205d : 0009 694d 7373 6e69 2067      string "missing ,"
2063 :                               .missinghasherror
2063 : adf0 1ce0                     jsr #generrorhandler
2065 : 0009 694d 7373 6e69 2067      string "missing #"
206b :                               .typemismatcherror
206b : adf0 1ce0                     jsr #generrorhandler
206d : 000a 7257 6e6f 2067 7974      string "wrong type"
2073 :                               .dividezeroerror
2073 : adf0 1ce0                     jsr #generrorhandler
2075 : 0010 6944 6976 6973 6e6f      string "division by zero"
207e :                               .badnumbererror
207e : adf0 1ce0                     jsr #generrorhandler
2080 : 000a 6142 2064 754e 626d      string "bad number"
2086 :                               .badindexerror
2086 : adf0 1ce0                     jsr #generrorhandler
2088 : 0009 6142 2064 6e49 6564      string "bad index"
208e :                               .arrayautoerror
208e : adf0 1ce0                     jsr #generrorhandler
2090 : 000d 6e55 6e6b 776f 206e      string "unknown array"
2098 :                               .arrayexistserror
2098 : adf0 1ce0                     jsr #generrorhandler
209a : 000c 7241 6172 2079 7865      string "array exists"
20a1 :                               .callerror
20a1 : adf0 1ce0                     jsr #generrorhandler
20a3 : 0011 6e55 6e6b 776f 206e      string "unknown procedure"
20ad :                               .strlenerror
20ad : adf0 1ce0                     jsr #generrorhandler
20af : 000b 7453 6972 676e 5320      string "string size"
20b6 :                               .localparamerror
20b6 : adf0 1ce0                     jsr #generrorhandler
20b8 : 0014 6150 6172 656d 6574      string "parameters or locals"
20c3 :                               .noaddresserror
20c3 : adf0 1ce0                     jsr #generrorhandler
20c5 : 0019 7341 6573 626d 656c      string "assembler not initialised"
20d3 :                               .badregistererror
20d3 : adf0 1ce0                     jsr #generrorhandler
20d5 : 0010 6142 2064 5043 2055      string "bad cpu register"
20de :                               .structureerror
20de : adf0 1ce0                     jsr #generrorhandler
20e0 : 0010 7453 7572 7463 7275      string "structures wrong"
20e9 :                               .returnerror
20e9 : adf0 1ce0                     jsr #generrorhandler
20eb : 0014 6552 7574 6e72 7720      string "return without gosub"
20f6 :                               .untilerror
20f6 : adf0 1ce0                     jsr #generrorhandler
20f8 : 0014 6e55 6974 206c 6977      string "until without repeat"
2103 :                               .wenderror
2103 : adf0 1ce0                     jsr #generrorhandler
2105 : 0012 6557 646e 7720 7469      string "wend without while"
210f :                               .elseerror
210f : adf0 1ce0                     jsr #generrorhandler
2111 : 000f 6c45 6573 7720 7469      string "else without if"
211a :                               .endiferror
211a : adf0 1ce0                     jsr #generrorhandler
211c : 0010 6e45 6964 2066 6977      string "endif without if"
2125 :                               .endprocerror
2125 : adf0 1ce0                     jsr #generrorhandler
2127 : 0014 6e45 5064 6f72 2063      string "endproc without proc"
2132 :                               .nexterror
2132 : adf0 1ce0                     jsr #generrorhandler
2134 : 0010 654e 7478 7720 7469      string "next without for"
213d :                               .returnstackerror
213d : adf0 1ce0                     jsr #generrorhandler
213f : 0012 7453 7572 7463 7275      string "structure too deep"
2149 :                               .lineerror
2149 : adf0 1ce0                     jsr #generrorhandler
214b : 000c 694c 656e 7520 6b6e      string "line unknown"
2152 :                               .memoryerror
2152 : adf0 1ce0                     jsr #generrorhandler
2154 : 000d 754f 2074 666f 4d20      string "out of memory"
215c :                               .stoperror
215c : adf0 1ce0                     jsr #generrorhandler
215e : 0004 7453 706f                string "stop"
2161 :                               .tokeniseerror
2161 : adf0 1ce0                     jsr #generrorhandler
2163 : 0013 6143 6e6e 746f 7020      string "cannot process line"
216e :                               .breakerror
216e : adf0 1ce0                     jsr #generrorhandler
2170 : 0005 7242 6165 006b           string "break"
2174 :                               .loaderror
2174 : adf0 1ce0                     jsr #generrorhandler
2176 : 000c 6f4e 7320 6375 2068      string "no such file"
217d :                               .saveerror
217d : adf0 1ce0                     jsr #generrorhandler
217f : 000b 6143 6e6e 746f 7320      string "cannot save"
2186 :                               .savenameerror
2186 : adf0 1ce0                     jsr #generrorhandler
2188 : 000d 6142 2064 6966 656c      string "bad file name"
2190 :                               .tokeniserwords
2190 : 0902 4265 6016                word $0902,$4265,$6016
2193 : 0902 40ac 600d                word $0902,$40ac,$600d
2196 : 0902 4333 600d                word $0902,$4333,$600d
2199 : 0902 40a1 6004                word $0902,$40a1,$6004
219c : 0902 40a1 6003                word $0902,$40a1,$6003
219f : 0902 435b 6002                word $0902,$435b,$6002
21a2 : 0102 4231 6004                word $0102,$4231,$6004
21a5 : 0102 4270 6012                word $0102,$4270,$6012
21a8 : 0902 4355 632c                word $0902,$4355,$632c
21ab : 0902 426a 6012                word $0902,$426a,$6012
21ae : 0902 42d2 600c                word $0902,$42d2,$600c
21b1 : 0902 41cb 62ad                word $0902,$41cb,$62ad
21b4 : 0902 41cb 60d6                word $0902,$41cb,$60d6
21b7 : 0902 41cb 60db                word $0902,$41cb,$60db
21ba : 0902 41cb 6243                word $0902,$41cb,$6243
21bd : 0902 41cb 620b                word $0902,$41cb,$620b
21c0 : 0e02 4212 6010                word $0e02,$4212,$6010
21c3 : 0e02 4302 6012                word $0e02,$4302,$6012
21c6 : 0e02 40da 6014                word $0e02,$40da,$6014
21c9 : 0e02 41cb 601a                word $0e02,$41cb,$601a
21cc : 0e02 41cb 641e                word $0e02,$41cb,$641e
21cf : 0e02 41cb 6010                word $0e02,$41cb,$6010
21d2 : 0e02 41cb 600d                word $0e02,$41cb,$600d
21d5 : 0e02 41cb 6003                word $0e02,$41cb,$6003
21d8 : 0e02 41cb 6086                word $0e02,$41cb,$6086
21db : 0e02 425b 60cc                word $0e02,$425b,$60cc
21de : 0e02 426f 60b2                word $0e02,$426f,$60b2
21e1 : 0e01 802e                     word $0e01,$802e
21e3 : 0101 62df                     word $0101,$62df
21e5 : 0201 803e                     word $0201,$803e
21e7 : 0201 bd3e                     word $0201,$bd3e
21e9 : 0201 803c                     word $0201,$803c
21eb : 0201 bd3c                     word $0201,$bd3c
21ed : 0201 803d                     word $0201,$803d
21ef : 0201 be3c                     word $0201,$be3c
21f1 : 0301 802b                     word $0301,$802b
21f3 : 0301 802d                     word $0301,$802d
21f5 : 0401 802a                     word $0401,$802a
21f7 : 0401 802f                     word $0401,$802f
21f9 : 0402 4265 6004                word $0402,$4265,$6004
21fc : 0501 8021                     word $0501,$8021
21fe : 0801 8028                     word $0801,$8028
2200 : 0801 8026                     word $0801,$8026
2202 : 0801 8025                     word $0801,$8025
2204 : 0801 ffff                     word $0801,$ffff
2206 : 0802 4851 6813                word $0802,$4851,$6813
2209 : 0803 49e1 4a64 6803           word $0803,$49e1,$4a64,$6803
220d : 0802 4af9 6803                word $0802,$4af9,$6803
2210 : 0802 5943 7812                word $0802,$5943,$7812
2213 : 0803 4bc5 4b01 6b0c           word $0803,$4bc5,$4b01,$6b0c
2217 : 0803 402e 4304 6005           word $0803,$402e,$4304,$6005
221b : 0802 48cf 6814                word $0802,$48cf,$6814
221e : 0802 58cf 7814                word $0802,$58cf,$7814
2221 : 0803 4a39 48d3 6819           word $0803,$4a39,$48d3,$6819
2225 : 0803 5a39 58d3 7819           word $0803,$5a39,$58d3,$7819
2229 : 0802 4a62 6bd9                word $0802,$4a62,$6bd9
222c : 0802 4a62 6c01                word $0802,$4a62,$6c01
222f : 0802 4a62 6869                word $0802,$4a62,$6869
2232 : 0802 58d4 7b26                word $0802,$58d4,$7b26
2235 : 0802 48d4 680e                word $0802,$48d4,$680e
2238 : 0802 5975 7804                word $0802,$5975,$7804
223b : 0802 4038 60cf                word $0802,$4038,$60cf
223e : 0802 48d8 69bd                word $0802,$48d8,$69bd
2241 : 0803 597a 5947 7814           word $0803,$597a,$5947,$7814
2245 : 0802 4a42 6804                word $0802,$4a42,$6804
2248 : 0802 492b 680e                word $0802,$492b,$680e
224b : 0802 5b33 7812                word $0802,$5b33,$7812
224e : 0803 4bfb 4b83 6ad1           word $0803,$4bfb,$4b83,$6ad1
2252 : 0802 42e4 60dd                word $0802,$42e4,$60dd
2255 : 0802 483e 680c                word $0802,$483e,$680c
2258 : 0803 48d4 4926 6954           word $0803,$48d4,$4926,$6954
225c : 0803 483a 48ae 6a17           word $0803,$483a,$48ae,$6a17
2260 : 0805 5a6c 5b1d 5ae4 5a39      word $0805,$5a6c,$5b1d,$5ae4,$5a39,$7807
2266 : 0805 4a6c 4a55 4a1d 48ca      word $0805,$4a6c,$4a55,$4a1d,$48ca,$6812
226c : 0802 497b 6a37                word $0802,$497b,$6a37
226f : 0901 8023                     word $0901,$8023
2271 : 0901 8029                     word $0901,$8029
2273 : 0901 802c                     word $0901,$802c
2275 : 0901 803b                     word $0901,$803b
2277 : 0901 626c                     word $0901,$626c
2279 : 0902 4333 6285                word $0902,$4333,$6285
227c : 0f02 425e 6012                word $0f02,$425e,$6012
227f : 0f01 60f9                     word $0f01,$60f9
2281 : 0f03 40da 40d8 6321           word $0f03,$40da,$40d8,$6321
2285 : 0f03 4157 41e9 6005           word $0f03,$4157,$41e9,$6005
2289 : 0f02 42e0 6087                word $0f02,$42e0,$6087
228c : 0d03 4235 416c 6006           word $0d03,$4235,$416c,$6006
2290 : 0d02 40d6 6338                word $0d02,$40d6,$6338
2293 : 0d02 4154 6235                word $0d02,$4154,$6235
2296 : 0d03 4245 417c 600c           word $0d03,$4245,$417c,$600c
229a : 0d02 40df 60ae                word $0d02,$40df,$60ae
229d : 0d04 4235 4284 426a 6003      word $0d04,$4235,$4284,$426a,$6003
22a2 : 0e01 8027                     word $0e01,$8027
22a4 : 0e01 803a                     word $0e01,$803a
22a6 : 0e01 803f                     word $0e01,$803f
22a8 : 0e03 42f9 40db 6332           word $0e03,$42f9,$40db,$6332
22ac : 0e02 41e2 6329                word $0e02,$41e2,$6329
22af : 0e02 402b 61ec                word $0e02,$402b,$61ec
22b2 : 0e03 41e3 402d 6012           word $0e03,$41e3,$402d,$6012
22b6 : 0e02 41e3 6013                word $0e02,$41e3,$6013
22b9 : 0e03 42d3 4245 6143           word $0e03,$42d3,$4245,$6143
22bd : 0e02 416c 600d                word $0e02,$416c,$600d
22c0 : 0e02 416c 6012                word $0e02,$416c,$6012
22c3 : 0e02 41e5 60db                word $0e02,$41e5,$60db
22c6 : 0e02 4235 6004                word $0e02,$4235,$6004
22c9 : 0e02 41be 63ed                word $0e02,$41be,$63ed
22cc : 0e03 425f 435b 6002           word $0e03,$425f,$435b,$6002
22d0 : 0e02 425f 626c                word $0e02,$425f,$626c
22d3 : 0e02 4239 600b                word $0e02,$4239,$600b
22d6 : 0e03 4239 4358 6014           word $0e03,$4239,$4358,$6014
22da : 0e02 40d4 6014                word $0e02,$40d4,$6014
22dd : 0e02 4174 6333                word $0e02,$4174,$6333
22e0 : 0e02 4264 60a1                word $0e02,$4264,$60a1
22e3 : 0e03 4264 402b 600c           word $0e03,$4264,$402b,$600c
22e7 : 0e02 40d6 6017                word $0e02,$40d6,$6017
22ea : 0e02 41ef 6004                word $0e02,$41ef,$6004
22ed : 0e04 4038 40d4 4334 6005      word $0e04,$4038,$40d4,$4334,$6005
22f2 : 0e03 4038 40d8 6012           word $0e03,$4038,$40d8,$6012
22f6 : 0e02 4268 60d3                word $0e02,$4268,$60d3
22f9 : 0e03 42e0 4239 6014           word $0e03,$42e0,$4239,$6014
22fd : 0e02 40da 600d                word $0e02,$40da,$600d
2300 : 0e04 40da 4356 405d 62d5      word $0e04,$40da,$4356,$405d,$62d5
2305 : 0e03 40da 435c 6242           word $0e03,$40da,$435c,$6242
2309 : 0e02 435a 600e                word $0e02,$435a,$600e
230c : 0e02 403b 60de                word $0e02,$403b,$60de
230f : 0e03 408b 40da 6235           word $0e03,$408b,$40da,$6235
2313 : 0e02 4333 628f                word $0e02,$4333,$628f
2316 : 0e02 43fb 6013                word $0e02,$43fb,$6013
2319 : 0000                          word $0000
231a :                               .tokenvectors
231a : 16ba                          word dummy13
231b : 16ba                          word dummy12
231c : 16ba                          word dummy28
231d : 16ba                          word dummy8
231e : 16ba                          word dummy7
231f : 16ba                          word dummy29
2320 : 1849                          word binaryop_and
2321 : 1865                          word binaryop_xor
2322 : 16ba                          word dummy14
2323 : 16ba                          word dummy16
2324 : 16ba                          word dummy9
2325 : 16ba                          word dummy19
2326 : 16ba                          word dummy22
2327 : 16ba                          word dummy25
2328 : 16ba                          word dummy26
2329 : 16ba                          word dummy18
232a : 16ba                          word dummy10
232b : 16ba                          word dummy11
232c : 16ba                          word dummy15
232d : 16ba                          word dummy27
232e : 16ba                          word dummy23
232f : 16ba                          word dummy24
2330 : 16ba                          word dummy20
2331 : 16ba                          word dummy17
2332 : 16ba                          word dummy21
2333 : 1039                          word command_code
2334 : 1048                          word command_word
2335 : 2047                          word syntaxerror
2336 : 1854                          word binaryop_or
2337 : 1900                          word binaryop_greater
2338 : 18b9                          word binaryop_greaterequal
2339 : 1906                          word binaryop_less
233a : 18df                          word binaryop_lessequal
233b : 18f5                          word binaryop_equal
233c : 18a3                          word binaryop_notequal
233d : 1806                          word binaryop_add
233e : 1815                          word binaryop_sub
233f : 1820                          word binaryop_mult
2340 : 182b                          word binaryop_divide
2341 : 183a                          word binaryop_mod
2342 : 1870                          word binaryop_indirect
2343 : 1abd                          word unary_parenthesis
2344 : 1abb                          word unary_hex
2345 : 1abb                          word unary_bin
2346 : 19b2                          word constshifthandler
2347 : 1ac6                          word unary_abs
2348 : 1b83                          word unary_alloc
2349 : 1af0                          word unary_asc
234a : 1bce                          word unary_chr
234b : 11ce                          word unary_exists
234c : 1b49                          word unary_false
234d : 1b18                          word unary_get
234e : 1be3                          word unary_getstring
234f : 1b09                          word unary_inkey
2350 : 1bea                          word unary_inkeystring
2351 : 1b5c                          word command_jx
2352 : 1b5e                          word command_jy
2353 : 1b71                          word command_jbutton
2354 : 1a9a                          word unary_left
2355 : 1ae4                          word unary_len
2356 : 1a48                          word unary_mid
2357 : 1b4e                          word command_page
2358 : 1afe                          word unary_peek
2359 : 1aa7                          word unary_right
235a : 1b25                          word unary_rnd
235b : 1ad4                          word unary_sgn
235c : 1bf1                          word unary_str
235d : 1b54                          word command_sysvar
235e : 1b46                          word unary_true
235f : 1b9d                          word unary_val
2360 : 1ae4                          word unary_len2
2361 : 1b25                          word unary_rnd2
2362 : 1bf1                          word unary_str2
2363 : 1b9d                          word unary_val2
2364 : 1ad4                          word unary_sgn2
2365 : 2047                          word syntaxerror
2366 : 16ba                          word dummy1
2367 : 16ba                          word dummy2
2368 : 16ba                          word dummy3
2369 : 16ba                          word dummy4
236a : 16ba                          word dummy5
236b : 12b0                          word command_for
236c : 139e                          word command_if
236d : 1727                          word command_repeat
236e : 17de                          word command_while
236f : 112c                          word command_proc
2370 : 13e3                          word command_endif
2371 : 12e5                          word command_next
2372 : 16ba                          word dummy6
2373 : 1731                          word command_until
2374 : 17f7                          word command_wend
2375 : 112e                          word command_endproc
2376 : 16a2                          word commentcommand1
2377 : 16ad                          word colonhandler
2378 : 16e0                          word command_print2
2379 : 1680                          word commandassert
237a : 1353                          word command_blit
237b : 10d5                          word command_call
237c : 1168                          word command_clear
237d : 131a                          word command_cls
237e : 2047                          word syntaxerror
237f : 1183                          word command_dim
2380 : 120a                          word command_dir
2381 : 13d1                          word command_else
2382 : 167e                          word command_end
2383 : 128b                          word command_fkey
2384 : 17c0                          word command_gosub
2385 : 17a8                          word command_goto
2386 : 131c                          word command_ink
2387 : 13f0                          word command_input
2388 : 141d                          word command_let
2389 : 1441                          word command_list
238a : 11df                          word command_load
238b : 1549                          word command_local
238c : 16bc                          word command_new
238d : 16c3                          word command_old
238e : 137f                          word command_palette
238f : 132c                          word command_paper
2390 : 168a                          word commandpoke
2391 : 16e0                          word command_print
2392 : 16a2                          word commentcommand2
2393 : 16ae                          word renumberprogram
2394 : 17cf                          word command_return
2395 : 1748                          word runprogram
2396 : 1225                          word command_save
2397 : 1337                          word command_screen
2398 : 167c                          word command_stop
2399 : 1697                          word commandsys
406f :                               .programcode
4070 :                               .endmemory
4071 :                               .memalloctop
4072 :                               .memallocbottom
4073 :                               .returnstacktop
4074 :                               .returnstackbottom
4075 :                               .localstacktop
4076 :                               .localstackbottom
4077 :                               .initialsp
4078 :                               .currentline
4079 :                               .proctable
407a :                               .tempstringalloc
407b :                               .localstackptr
407c :                               .returnstackptr
407d :                               .lastlisttoken
407e :                               .asmpointer
407f :                               .asmmode
4080 :                               .evalstack
40e0 :                               .fixedvariables
40fa :                               .variablehashtable
413a :                               .tokenbuffer
423a :                               .tokenbufferend
423a :                               .inputbuffer
4257 :                               .endofdata
4257 :                               freebasiccode = ramstart + $300
